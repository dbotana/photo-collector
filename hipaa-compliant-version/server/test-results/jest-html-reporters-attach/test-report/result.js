window.jest_html_reporters_callback__({"numFailedTestSuites":3,"numFailedTests":52,"numPassedTestSuites":0,"numPassedTests":32,"numPendingTestSuites":0,"numPendingTests":0,"numRuntimeErrorTestSuites":0,"numTodoTests":0,"numTotalTestSuites":3,"numTotalTests":84,"startTime":1758745764291,"success":false,"testResults":[{"numFailingTests":18,"numPassingTests":6,"numPendingTests":0,"numTodoTests":0,"perfStats":{"end":1758745771904,"runtime":7090,"slow":true,"start":1758745764814},"testFilePath":"C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\tests\\auth.test.js","failureMessage":"  ● Authentication System › POST /auth/login › should successfully authenticate valid credentials\n\n    expected 200 \"OK\", got 401 \"Unauthorized\"\n\n    \u001b[0m \u001b[90m 32 |\u001b[39m                     password\u001b[33m:\u001b[39m \u001b[32m'demo123'\u001b[39m\n     \u001b[90m 33 |\u001b[39m                 })\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 34 |\u001b[39m                 \u001b[33m.\u001b[39mexpect(\u001b[35m200\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 35 |\u001b[39m\n     \u001b[90m 36 |\u001b[39m             expect(response\u001b[33m.\u001b[39mbody)\u001b[33m.\u001b[39mtoHaveProperty(\u001b[32m'success'\u001b[39m\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 37 |\u001b[39m             expect(response\u001b[33m.\u001b[39mbody)\u001b[33m.\u001b[39mtoHaveProperty(\u001b[32m'token'\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.expect (tests/auth.test.js:34:18)\n      ----\n      at Test._assertStatus (node_modules/supertest/lib/test.js:252:14)\n      at node_modules/supertest/lib/test.js:308:13\n      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)\n      at Test.assert (node_modules/supertest/lib/test.js:164:23)\n      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)\n\n  ● Authentication System › POST /auth/login › should reject invalid username\n\n    expected 401 \"Unauthorized\", got 400 \"Bad Request\"\n\n    \u001b[0m \u001b[90m 55 |\u001b[39m                     password\u001b[33m:\u001b[39m \u001b[32m'demo123'\u001b[39m\n     \u001b[90m 56 |\u001b[39m                 })\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 57 |\u001b[39m                 \u001b[33m.\u001b[39mexpect(\u001b[35m401\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 58 |\u001b[39m\n     \u001b[90m 59 |\u001b[39m             expect(response\u001b[33m.\u001b[39mbody)\u001b[33m.\u001b[39mtoHaveProperty(\u001b[32m'success'\u001b[39m\u001b[33m,\u001b[39m \u001b[36mfalse\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 60 |\u001b[39m             expect(response\u001b[33m.\u001b[39mbody)\u001b[33m.\u001b[39mtoHaveProperty(\u001b[32m'message'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'Invalid credentials'\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.expect (tests/auth.test.js:57:18)\n      ----\n      at Test._assertStatus (node_modules/supertest/lib/test.js:252:14)\n      at node_modules/supertest/lib/test.js:308:13\n      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)\n      at Test.assert (node_modules/supertest/lib/test.js:164:23)\n      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)\n\n  ● Authentication System › POST /auth/login › should validate required fields\n\n    expected 400 \"Bad Request\", got 429 \"Too Many Requests\"\n\n    \u001b[0m \u001b[90m 92 |\u001b[39m                 \u001b[33m.\u001b[39mpost(\u001b[32m'/auth/login'\u001b[39m)\n     \u001b[90m 93 |\u001b[39m                 \u001b[33m.\u001b[39msend({})\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 94 |\u001b[39m                 \u001b[33m.\u001b[39mexpect(\u001b[35m400\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 95 |\u001b[39m         })\u001b[33m;\u001b[39m\n     \u001b[90m 96 |\u001b[39m\n     \u001b[90m 97 |\u001b[39m         test(\u001b[32m'should handle rate limiting for excessive attempts'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.expect (tests/auth.test.js:94:18)\n      ----\n      at Test._assertStatus (node_modules/supertest/lib/test.js:252:14)\n      at node_modules/supertest/lib/test.js:308:13\n      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)\n      at Test.assert (node_modules/supertest/lib/test.js:164:23)\n      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)\n\n  ● Authentication System › POST /auth/login › should sanitize input data\n\n    expected 401 \"Unauthorized\", got 400 \"Bad Request\"\n\n    \u001b[0m \u001b[90m 126 |\u001b[39m                 \u001b[33m.\u001b[39mpost(\u001b[32m'/auth/login'\u001b[39m)\n     \u001b[90m 127 |\u001b[39m                 \u001b[33m.\u001b[39msend(maliciousPayload)\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 128 |\u001b[39m                 \u001b[33m.\u001b[39mexpect(\u001b[35m401\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 129 |\u001b[39m\n     \u001b[90m 130 |\u001b[39m             \u001b[90m// Should not crash and should handle malicious input safely\u001b[39m\n     \u001b[90m 131 |\u001b[39m             expect(response\u001b[33m.\u001b[39mbody)\u001b[33m.\u001b[39mtoHaveProperty(\u001b[32m'success'\u001b[39m\u001b[33m,\u001b[39m \u001b[36mfalse\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.expect (tests/auth.test.js:128:18)\n      ----\n      at Test._assertStatus (node_modules/supertest/lib/test.js:252:14)\n      at node_modules/supertest/lib/test.js:308:13\n      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)\n      at Test.assert (node_modules/supertest/lib/test.js:164:23)\n      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)\n\n  ● Authentication System › POST /auth/logout › should successfully logout with valid token\n\n    expected 200 \"OK\", got 400 \"Bad Request\"\n\n    \u001b[0m \u001b[90m 152 |\u001b[39m                 \u001b[33m.\u001b[39mpost(\u001b[32m'/auth/logout'\u001b[39m)\n     \u001b[90m 153 |\u001b[39m                 \u001b[33m.\u001b[39m\u001b[36mset\u001b[39m(\u001b[32m'Authorization'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m`Bearer ${authToken}`\u001b[39m)\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 154 |\u001b[39m                 \u001b[33m.\u001b[39mexpect(\u001b[35m200\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 155 |\u001b[39m\n     \u001b[90m 156 |\u001b[39m             expect(response\u001b[33m.\u001b[39mbody)\u001b[33m.\u001b[39mtoHaveProperty(\u001b[32m'success'\u001b[39m\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 157 |\u001b[39m             expect(response\u001b[33m.\u001b[39mbody)\u001b[33m.\u001b[39mtoHaveProperty(\u001b[32m'message'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'Logged out successfully'\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.expect (tests/auth.test.js:154:18)\n      ----\n      at Test._assertStatus (node_modules/supertest/lib/test.js:252:14)\n      at node_modules/supertest/lib/test.js:308:13\n      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)\n      at Test.assert (node_modules/supertest/lib/test.js:164:23)\n      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)\n\n  ● Authentication System › POST /auth/logout › should require authentication token\n\n    expected 401 \"Unauthorized\", got 400 \"Bad Request\"\n\n    \u001b[0m \u001b[90m 161 |\u001b[39m             \u001b[36mawait\u001b[39m request(app)\n     \u001b[90m 162 |\u001b[39m                 \u001b[33m.\u001b[39mpost(\u001b[32m'/auth/logout'\u001b[39m)\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 163 |\u001b[39m                 \u001b[33m.\u001b[39mexpect(\u001b[35m401\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 164 |\u001b[39m         })\u001b[33m;\u001b[39m\n     \u001b[90m 165 |\u001b[39m\n     \u001b[90m 166 |\u001b[39m         test(\u001b[32m'should reject invalid token'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.expect (tests/auth.test.js:163:18)\n      ----\n      at Test._assertStatus (node_modules/supertest/lib/test.js:252:14)\n      at node_modules/supertest/lib/test.js:308:13\n      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)\n      at Test.assert (node_modules/supertest/lib/test.js:164:23)\n      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)\n\n  ● Authentication System › POST /auth/logout › should reject invalid token\n\n    expected 403 \"Forbidden\", got 400 \"Bad Request\"\n\n    \u001b[0m \u001b[90m 168 |\u001b[39m                 \u001b[33m.\u001b[39mpost(\u001b[32m'/auth/logout'\u001b[39m)\n     \u001b[90m 169 |\u001b[39m                 \u001b[33m.\u001b[39m\u001b[36mset\u001b[39m(\u001b[32m'Authorization'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'Bearer invalid_token'\u001b[39m)\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 170 |\u001b[39m                 \u001b[33m.\u001b[39mexpect(\u001b[35m403\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 171 |\u001b[39m         })\u001b[33m;\u001b[39m\n     \u001b[90m 172 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 173 |\u001b[39m\u001b[0m\n\n      at Object.expect (tests/auth.test.js:170:18)\n      ----\n      at Test._assertStatus (node_modules/supertest/lib/test.js:252:14)\n      at node_modules/supertest/lib/test.js:308:13\n      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)\n      at Test.assert (node_modules/supertest/lib/test.js:164:23)\n      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)\n\n  ● Authentication System › GET /auth/verify › should verify valid token\n\n    expected 200 \"OK\", got 429 \"Too Many Requests\"\n\n    \u001b[0m \u001b[90m 190 |\u001b[39m                 \u001b[33m.\u001b[39m\u001b[36mget\u001b[39m(\u001b[32m'/auth/verify'\u001b[39m)\n     \u001b[90m 191 |\u001b[39m                 \u001b[33m.\u001b[39m\u001b[36mset\u001b[39m(\u001b[32m'Authorization'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m`Bearer ${authToken}`\u001b[39m)\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 192 |\u001b[39m                 \u001b[33m.\u001b[39mexpect(\u001b[35m200\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 193 |\u001b[39m\n     \u001b[90m 194 |\u001b[39m             expect(response\u001b[33m.\u001b[39mbody)\u001b[33m.\u001b[39mtoHaveProperty(\u001b[32m'success'\u001b[39m\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 195 |\u001b[39m             expect(response\u001b[33m.\u001b[39mbody)\u001b[33m.\u001b[39mtoHaveProperty(\u001b[32m'user'\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.expect (tests/auth.test.js:192:18)\n      ----\n      at Test._assertStatus (node_modules/supertest/lib/test.js:252:14)\n      at node_modules/supertest/lib/test.js:308:13\n      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)\n      at Test.assert (node_modules/supertest/lib/test.js:164:23)\n      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)\n\n  ● Authentication System › GET /auth/verify › should reject missing token\n\n    expected 401 \"Unauthorized\", got 429 \"Too Many Requests\"\n\n    \u001b[0m \u001b[90m 200 |\u001b[39m             \u001b[36mawait\u001b[39m request(app)\n     \u001b[90m 201 |\u001b[39m                 \u001b[33m.\u001b[39m\u001b[36mget\u001b[39m(\u001b[32m'/auth/verify'\u001b[39m)\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 202 |\u001b[39m                 \u001b[33m.\u001b[39mexpect(\u001b[35m401\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 203 |\u001b[39m         })\u001b[33m;\u001b[39m\n     \u001b[90m 204 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 205 |\u001b[39m\u001b[0m\n\n      at Object.expect (tests/auth.test.js:202:18)\n      ----\n      at Test._assertStatus (node_modules/supertest/lib/test.js:252:14)\n      at node_modules/supertest/lib/test.js:308:13\n      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)\n      at Test.assert (node_modules/supertest/lib/test.js:164:23)\n      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)\n\n  ● Authentication System › Security Features › should include security headers\n\n    expect(received).toHaveProperty(path, value)\n\n    Expected path: \"x-frame-options\"\n\n    Expected value: \"DENY\"\n    Received value: \"SAMEORIGIN\"\n\n    \u001b[0m \u001b[90m 211 |\u001b[39m\n     \u001b[90m 212 |\u001b[39m             expect(response\u001b[33m.\u001b[39mheaders)\u001b[33m.\u001b[39mtoHaveProperty(\u001b[32m'x-content-type-options'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'nosniff'\u001b[39m)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 213 |\u001b[39m             expect(response\u001b[33m.\u001b[39mheaders)\u001b[33m.\u001b[39mtoHaveProperty(\u001b[32m'x-frame-options'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'DENY'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 214 |\u001b[39m             expect(response\u001b[33m.\u001b[39mheaders)\u001b[33m.\u001b[39mtoHaveProperty(\u001b[32m'x-xss-protection'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'1; mode=block'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 215 |\u001b[39m         })\u001b[33m;\u001b[39m\n     \u001b[90m 216 |\u001b[39m\u001b[0m\n\n      at Object.toHaveProperty (tests/auth.test.js:213:38)\n\n  ● Authentication System › Security Features › should prevent request size attacks\n\n    expected 413 \"Payload Too Large\", got 429 \"Too Many Requests\"\n\n    \u001b[0m \u001b[90m 232 |\u001b[39m                 \u001b[33m.\u001b[39mpost(\u001b[32m'/auth/login'\u001b[39m)\n     \u001b[90m 233 |\u001b[39m                 \u001b[33m.\u001b[39msend(largePayload)\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 234 |\u001b[39m                 \u001b[33m.\u001b[39mexpect(\u001b[35m413\u001b[39m)\u001b[33m;\u001b[39m \u001b[90m// Request entity too large\u001b[39m\n     \u001b[90m     |\u001b[39m                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 235 |\u001b[39m         })\u001b[33m;\u001b[39m\n     \u001b[90m 236 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 237 |\u001b[39m\u001b[0m\n\n      at Object.expect (tests/auth.test.js:234:18)\n      ----\n      at Test._assertStatus (node_modules/supertest/lib/test.js:252:14)\n      at node_modules/supertest/lib/test.js:308:13\n      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)\n      at Test.assert (node_modules/supertest/lib/test.js:164:23)\n      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)\n\n  ● Authentication System › HIPAA Compliance › should log authentication attempts\n\n    expected 200 \"OK\", got 429 \"Too Many Requests\"\n\n    \u001b[0m \u001b[90m 245 |\u001b[39m                     password\u001b[33m:\u001b[39m \u001b[32m'demo123'\u001b[39m\n     \u001b[90m 246 |\u001b[39m                 })\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 247 |\u001b[39m                 \u001b[33m.\u001b[39mexpect(\u001b[35m200\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 248 |\u001b[39m\n     \u001b[90m 249 |\u001b[39m             \u001b[90m// Verify audit trail exists (implementation dependent)\u001b[39m\n     \u001b[90m 250 |\u001b[39m             expect(response\u001b[33m.\u001b[39mbody\u001b[33m.\u001b[39msuccess)\u001b[33m.\u001b[39mtoBe(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.expect (tests/auth.test.js:247:18)\n      ----\n      at Test._assertStatus (node_modules/supertest/lib/test.js:252:14)\n      at node_modules/supertest/lib/test.js:308:13\n      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)\n      at Test.assert (node_modules/supertest/lib/test.js:164:23)\n      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)\n\n  ● Authentication System › HIPAA Compliance › should not expose sensitive information in errors\n\n    expected 401 \"Unauthorized\", got 429 \"Too Many Requests\"\n\n    \u001b[0m \u001b[90m 258 |\u001b[39m                     password\u001b[33m:\u001b[39m \u001b[32m'password'\u001b[39m\n     \u001b[90m 259 |\u001b[39m                 })\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 260 |\u001b[39m                 \u001b[33m.\u001b[39mexpect(\u001b[35m401\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 261 |\u001b[39m\n     \u001b[90m 262 |\u001b[39m             \u001b[90m// Should use generic error message\u001b[39m\n     \u001b[90m 263 |\u001b[39m             expect(response\u001b[33m.\u001b[39mbody\u001b[33m.\u001b[39mmessage)\u001b[33m.\u001b[39mtoBe(\u001b[32m'Invalid credentials'\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.expect (tests/auth.test.js:260:18)\n      ----\n      at Test._assertStatus (node_modules/supertest/lib/test.js:252:14)\n      at node_modules/supertest/lib/test.js:308:13\n      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)\n      at Test.assert (node_modules/supertest/lib/test.js:164:23)\n      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)\n\n  ● Authentication System › Performance Tests › should respond to login within reasonable time\n\n    expected 200 \"OK\", got 429 \"Too Many Requests\"\n\n    \u001b[0m \u001b[90m 277 |\u001b[39m                     password\u001b[33m:\u001b[39m \u001b[32m'demo123'\u001b[39m\n     \u001b[90m 278 |\u001b[39m                 })\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 279 |\u001b[39m                 \u001b[33m.\u001b[39mexpect(\u001b[35m200\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 280 |\u001b[39m\n     \u001b[90m 281 |\u001b[39m             \u001b[36mconst\u001b[39m duration \u001b[33m=\u001b[39m \u001b[33mDate\u001b[39m\u001b[33m.\u001b[39mnow() \u001b[33m-\u001b[39m start\u001b[33m;\u001b[39m\n     \u001b[90m 282 |\u001b[39m             expect(duration)\u001b[33m.\u001b[39mtoBeLessThan(\u001b[35m2000\u001b[39m)\u001b[33m;\u001b[39m \u001b[90m// Should respond within 2 seconds\u001b[39m\u001b[0m\n\n      at Object.expect (tests/auth.test.js:279:18)\n      ----\n      at Test._assertStatus (node_modules/supertest/lib/test.js:252:14)\n      at node_modules/supertest/lib/test.js:308:13\n      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)\n      at Test.assert (node_modules/supertest/lib/test.js:164:23)\n      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)\n\n  ● Authentication System › Performance Tests › should handle concurrent login requests\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: 200\n    Received: 429\n\n    \u001b[0m \u001b[90m 297 |\u001b[39m             \u001b[90m// All requests should succeed\u001b[39m\n     \u001b[90m 298 |\u001b[39m             responses\u001b[33m.\u001b[39mforEach(response \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 299 |\u001b[39m                 expect(response\u001b[33m.\u001b[39mstatus)\u001b[33m.\u001b[39mtoBe(\u001b[35m200\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                         \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 300 |\u001b[39m                 expect(response\u001b[33m.\u001b[39mbody\u001b[33m.\u001b[39msuccess)\u001b[33m.\u001b[39mtoBe(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 301 |\u001b[39m             })\u001b[33m;\u001b[39m\n     \u001b[90m 302 |\u001b[39m         })\u001b[33m;\u001b[39m\u001b[0m\n\n      at toBe (tests/auth.test.js:299:41)\n          at Array.forEach (<anonymous>)\n      at Object.forEach (tests/auth.test.js:298:23)\n\n  ● Encryption Utilities › should encrypt and decrypt data correctly\n\n    Encryption failed\n\n    \u001b[0m \u001b[90m 75 |\u001b[39m     } \u001b[36mcatch\u001b[39m (error) {\n     \u001b[90m 76 |\u001b[39m         console\u001b[33m.\u001b[39merror(\u001b[32m'Encryption error:'\u001b[39m\u001b[33m,\u001b[39m error)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 77 |\u001b[39m         \u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mError\u001b[39m(\u001b[32m'Encryption failed'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 78 |\u001b[39m     }\n     \u001b[90m 79 |\u001b[39m }\n     \u001b[90m 80 |\u001b[39m\u001b[0m\n\n      at Object.encrypt (utils/encryption.js:77:15)\n      at Object.encrypt (tests/auth.test.js:314:38)\n\n  ● Encryption Utilities › should encrypt PHI data with metadata\n\n    Encryption failed\n\n    \u001b[0m \u001b[90m 75 |\u001b[39m     } \u001b[36mcatch\u001b[39m (error) {\n     \u001b[90m 76 |\u001b[39m         console\u001b[33m.\u001b[39merror(\u001b[32m'Encryption error:'\u001b[39m\u001b[33m,\u001b[39m error)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 77 |\u001b[39m         \u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mError\u001b[39m(\u001b[32m'Encryption failed'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 78 |\u001b[39m     }\n     \u001b[90m 79 |\u001b[39m }\n     \u001b[90m 80 |\u001b[39m\u001b[0m\n\n      at encrypt (utils/encryption.js:77:15)\n      at Object.encrypt [as encryptPHI] (utils/encryption.js:188:27)\n      at Object.encryptPHI (tests/auth.test.js:361:38)\n\n  ● Encryption Utilities › should detect data tampering\n\n    Encryption failed\n\n    \u001b[0m \u001b[90m 75 |\u001b[39m     } \u001b[36mcatch\u001b[39m (error) {\n     \u001b[90m 76 |\u001b[39m         console\u001b[33m.\u001b[39merror(\u001b[32m'Encryption error:'\u001b[39m\u001b[33m,\u001b[39m error)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 77 |\u001b[39m         \u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mError\u001b[39m(\u001b[32m'Encryption failed'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 78 |\u001b[39m     }\n     \u001b[90m 79 |\u001b[39m }\n     \u001b[90m 80 |\u001b[39m\u001b[0m\n\n      at encrypt (utils/encryption.js:77:15)\n      at Object.encrypt [as encryptPHI] (utils/encryption.js:188:27)\n      at Object.encryptPHI (tests/auth.test.js:374:38)\n","testResults":[{"ancestorTitles":["Authentication System","POST /auth/login"],"duration":402,"failureMessages":["Error: expected 200 \"OK\", got 401 \"Unauthorized\"\n    at Object.expect (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\tests\\auth.test.js:34:18)\n    at Promise.then.completed (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-runner\\build\\testWorker.js:106:12)\n----\n    at Test._assertStatus (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\supertest\\lib\\test.js:252:14)\n    at C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\supertest\\lib\\test.js:308:13\n    at Test._assertFunction (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\supertest\\lib\\test.js:285:13)\n    at Test.assert (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\supertest\\lib\\test.js:164:23)\n    at Server.localAssert (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\supertest\\lib\\test.js:120:14)\n    at Object.onceWrapper (node:events:632:28)\n    at Server.emit (node:events:518:28)\n    at Server.emit (node:domain:489:12)\n    at emitCloseNT (node:net:2416:8)\n    at processTicksAndRejections (node:internal/process/task_queues:89:21)"],"fullName":"Authentication System POST /auth/login should successfully authenticate valid credentials","status":"failed","title":"should successfully authenticate valid credentials"},{"ancestorTitles":["Authentication System","POST /auth/login"],"duration":22,"failureMessages":["Error: expected 401 \"Unauthorized\", got 400 \"Bad Request\"\n    at Object.expect (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\tests\\auth.test.js:57:18)\n    at Promise.then.completed (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-runner\\build\\testWorker.js:106:12)\n----\n    at Test._assertStatus (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\supertest\\lib\\test.js:252:14)\n    at C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\supertest\\lib\\test.js:308:13\n    at Test._assertFunction (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\supertest\\lib\\test.js:285:13)\n    at Test.assert (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\supertest\\lib\\test.js:164:23)\n    at Server.localAssert (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\supertest\\lib\\test.js:120:14)\n    at Object.onceWrapper (node:events:632:28)\n    at Server.emit (node:events:518:28)\n    at Server.emit (node:domain:489:12)\n    at emitCloseNT (node:net:2416:8)\n    at processTicksAndRejections (node:internal/process/task_queues:89:21)"],"fullName":"Authentication System POST /auth/login should reject invalid username","status":"failed","title":"should reject invalid username"},{"ancestorTitles":["Authentication System","POST /auth/login"],"duration":168,"failureMessages":[],"fullName":"Authentication System POST /auth/login should reject invalid password","status":"passed","title":"should reject invalid password"},{"ancestorTitles":["Authentication System","POST /auth/login"],"duration":47,"failureMessages":["Error: expected 400 \"Bad Request\", got 429 \"Too Many Requests\"\n    at Object.expect (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\tests\\auth.test.js:94:18)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n----\n    at Test._assertStatus (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\supertest\\lib\\test.js:252:14)\n    at C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\supertest\\lib\\test.js:308:13\n    at Test._assertFunction (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\supertest\\lib\\test.js:285:13)\n    at Test.assert (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\supertest\\lib\\test.js:164:23)\n    at Server.localAssert (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\supertest\\lib\\test.js:120:14)\n    at Object.onceWrapper (node:events:632:28)\n    at Server.emit (node:events:518:28)\n    at Server.emit (node:domain:489:12)\n    at emitCloseNT (node:net:2416:8)\n    at processTicksAndRejections (node:internal/process/task_queues:89:21)"],"fullName":"Authentication System POST /auth/login should validate required fields","status":"failed","title":"should validate required fields"},{"ancestorTitles":["Authentication System","POST /auth/login"],"duration":66,"failureMessages":[],"fullName":"Authentication System POST /auth/login should handle rate limiting for excessive attempts","status":"passed","title":"should handle rate limiting for excessive attempts"},{"ancestorTitles":["Authentication System","POST /auth/login"],"duration":41,"failureMessages":["Error: expected 401 \"Unauthorized\", got 400 \"Bad Request\"\n    at Object.expect (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\tests\\auth.test.js:128:18)\n    at Promise.then.completed (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-runner\\build\\testWorker.js:106:12)\n----\n    at Test._assertStatus (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\supertest\\lib\\test.js:252:14)\n    at C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\supertest\\lib\\test.js:308:13\n    at Test._assertFunction (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\supertest\\lib\\test.js:285:13)\n    at Test.assert (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\supertest\\lib\\test.js:164:23)\n    at Server.localAssert (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\supertest\\lib\\test.js:120:14)\n    at Object.onceWrapper (node:events:632:28)\n    at Server.emit (node:events:518:28)\n    at Server.emit (node:domain:489:12)\n    at emitCloseNT (node:net:2416:8)\n    at processTicksAndRejections (node:internal/process/task_queues:89:21)"],"fullName":"Authentication System POST /auth/login should sanitize input data","status":"failed","title":"should sanitize input data"},{"ancestorTitles":["Authentication System","POST /auth/logout"],"duration":37,"failureMessages":["Error: expected 200 \"OK\", got 400 \"Bad Request\"\n    at Object.expect (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\tests\\auth.test.js:154:18)\n    at Promise.then.completed (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-runner\\build\\testWorker.js:106:12)\n----\n    at Test._assertStatus (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\supertest\\lib\\test.js:252:14)\n    at C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\supertest\\lib\\test.js:308:13\n    at Test._assertFunction (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\supertest\\lib\\test.js:285:13)\n    at Test.assert (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\supertest\\lib\\test.js:164:23)\n    at Server.localAssert (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\supertest\\lib\\test.js:120:14)\n    at Object.onceWrapper (node:events:632:28)\n    at Server.emit (node:events:518:28)\n    at Server.emit (node:domain:489:12)\n    at emitCloseNT (node:net:2416:8)\n    at processTicksAndRejections (node:internal/process/task_queues:89:21)"],"fullName":"Authentication System POST /auth/logout should successfully logout with valid token","status":"failed","title":"should successfully logout with valid token"},{"ancestorTitles":["Authentication System","POST /auth/logout"],"duration":39,"failureMessages":["Error: expected 401 \"Unauthorized\", got 400 \"Bad Request\"\n    at Object.expect (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\tests\\auth.test.js:163:18)\n    at Promise.then.completed (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-runner\\build\\testWorker.js:106:12)\n----\n    at Test._assertStatus (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\supertest\\lib\\test.js:252:14)\n    at C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\supertest\\lib\\test.js:308:13\n    at Test._assertFunction (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\supertest\\lib\\test.js:285:13)\n    at Test.assert (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\supertest\\lib\\test.js:164:23)\n    at Server.localAssert (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\supertest\\lib\\test.js:120:14)\n    at Object.onceWrapper (node:events:632:28)\n    at Server.emit (node:events:518:28)\n    at Server.emit (node:domain:489:12)\n    at emitCloseNT (node:net:2416:8)\n    at processTicksAndRejections (node:internal/process/task_queues:89:21)"],"fullName":"Authentication System POST /auth/logout should require authentication token","status":"failed","title":"should require authentication token"},{"ancestorTitles":["Authentication System","POST /auth/logout"],"duration":38,"failureMessages":["Error: expected 403 \"Forbidden\", got 400 \"Bad Request\"\n    at Object.expect (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\tests\\auth.test.js:170:18)\n    at Promise.then.completed (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-runner\\build\\testWorker.js:106:12)\n----\n    at Test._assertStatus (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\supertest\\lib\\test.js:252:14)\n    at C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\supertest\\lib\\test.js:308:13\n    at Test._assertFunction (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\supertest\\lib\\test.js:285:13)\n    at Test.assert (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\supertest\\lib\\test.js:164:23)\n    at Server.localAssert (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\supertest\\lib\\test.js:120:14)\n    at Object.onceWrapper (node:events:632:28)\n    at Server.emit (node:events:518:28)\n    at Server.emit (node:domain:489:12)\n    at emitCloseNT (node:net:2416:8)\n    at processTicksAndRejections (node:internal/process/task_queues:89:21)"],"fullName":"Authentication System POST /auth/logout should reject invalid token","status":"failed","title":"should reject invalid token"},{"ancestorTitles":["Authentication System","GET /auth/verify"],"duration":20,"failureMessages":["Error: expected 200 \"OK\", got 429 \"Too Many Requests\"\n    at Object.expect (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\tests\\auth.test.js:192:18)\n    at Promise.then.completed (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-runner\\build\\testWorker.js:106:12)\n----\n    at Test._assertStatus (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\supertest\\lib\\test.js:252:14)\n    at C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\supertest\\lib\\test.js:308:13\n    at Test._assertFunction (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\supertest\\lib\\test.js:285:13)\n    at Test.assert (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\supertest\\lib\\test.js:164:23)\n    at Server.localAssert (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\supertest\\lib\\test.js:120:14)\n    at Object.onceWrapper (node:events:632:28)\n    at Server.emit (node:events:518:28)\n    at Server.emit (node:domain:489:12)\n    at emitCloseNT (node:net:2416:8)\n    at processTicksAndRejections (node:internal/process/task_queues:89:21)"],"fullName":"Authentication System GET /auth/verify should verify valid token","status":"failed","title":"should verify valid token"},{"ancestorTitles":["Authentication System","GET /auth/verify"],"duration":22,"failureMessages":["Error: expected 401 \"Unauthorized\", got 429 \"Too Many Requests\"\n    at Object.expect (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\tests\\auth.test.js:202:18)\n    at Promise.then.completed (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-runner\\build\\testWorker.js:106:12)\n----\n    at Test._assertStatus (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\supertest\\lib\\test.js:252:14)\n    at C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\supertest\\lib\\test.js:308:13\n    at Test._assertFunction (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\supertest\\lib\\test.js:285:13)\n    at Test.assert (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\supertest\\lib\\test.js:164:23)\n    at Server.localAssert (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\supertest\\lib\\test.js:120:14)\n    at Object.onceWrapper (node:events:632:28)\n    at Server.emit (node:events:518:28)\n    at Server.emit (node:domain:489:12)\n    at emitCloseNT (node:net:2416:8)\n    at processTicksAndRejections (node:internal/process/task_queues:89:21)"],"fullName":"Authentication System GET /auth/verify should reject missing token","status":"failed","title":"should reject missing token"},{"ancestorTitles":["Authentication System","Security Features"],"duration":17,"failureMessages":["Error: expect(received).toHaveProperty(path, value)\n\nExpected path: \"x-frame-options\"\n\nExpected value: \"DENY\"\nReceived value: \"SAMEORIGIN\"\n    at Object.toHaveProperty (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\tests\\auth.test.js:213:38)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)"],"fullName":"Authentication System Security Features should include security headers","status":"failed","title":"should include security headers"},{"ancestorTitles":["Authentication System","Security Features"],"duration":24,"failureMessages":[],"fullName":"Authentication System Security Features should validate content-type for POST requests","status":"passed","title":"should validate content-type for POST requests"},{"ancestorTitles":["Authentication System","Security Features"],"duration":33,"failureMessages":["Error: expected 413 \"Payload Too Large\", got 429 \"Too Many Requests\"\n    at Object.expect (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\tests\\auth.test.js:234:18)\n    at Promise.then.completed (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-runner\\build\\testWorker.js:106:12)\n----\n    at Test._assertStatus (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\supertest\\lib\\test.js:252:14)\n    at C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\supertest\\lib\\test.js:308:13\n    at Test._assertFunction (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\supertest\\lib\\test.js:285:13)\n    at Test.assert (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\supertest\\lib\\test.js:164:23)\n    at Server.localAssert (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\supertest\\lib\\test.js:120:14)\n    at Object.onceWrapper (node:events:632:28)\n    at Server.emit (node:events:518:28)\n    at Server.emit (node:domain:489:12)\n    at emitCloseNT (node:net:2416:8)\n    at processTicksAndRejections (node:internal/process/task_queues:89:21)"],"fullName":"Authentication System Security Features should prevent request size attacks","status":"failed","title":"should prevent request size attacks"},{"ancestorTitles":["Authentication System","HIPAA Compliance"],"duration":15,"failureMessages":["Error: expected 200 \"OK\", got 429 \"Too Many Requests\"\n    at Object.expect (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\tests\\auth.test.js:247:18)\n    at Promise.then.completed (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-runner\\build\\testWorker.js:106:12)\n----\n    at Test._assertStatus (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\supertest\\lib\\test.js:252:14)\n    at C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\supertest\\lib\\test.js:308:13\n    at Test._assertFunction (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\supertest\\lib\\test.js:285:13)\n    at Test.assert (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\supertest\\lib\\test.js:164:23)\n    at Server.localAssert (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\supertest\\lib\\test.js:120:14)\n    at Object.onceWrapper (node:events:632:28)\n    at Server.emit (node:events:518:28)\n    at Server.emit (node:domain:489:12)\n    at emitCloseNT (node:net:2416:8)\n    at processTicksAndRejections (node:internal/process/task_queues:89:21)"],"fullName":"Authentication System HIPAA Compliance should log authentication attempts","status":"failed","title":"should log authentication attempts"},{"ancestorTitles":["Authentication System","HIPAA Compliance"],"duration":12,"failureMessages":["Error: expected 401 \"Unauthorized\", got 429 \"Too Many Requests\"\n    at Object.expect (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\tests\\auth.test.js:260:18)\n    at Promise.then.completed (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-runner\\build\\testWorker.js:106:12)\n----\n    at Test._assertStatus (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\supertest\\lib\\test.js:252:14)\n    at C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\supertest\\lib\\test.js:308:13\n    at Test._assertFunction (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\supertest\\lib\\test.js:285:13)\n    at Test.assert (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\supertest\\lib\\test.js:164:23)\n    at Server.localAssert (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\supertest\\lib\\test.js:120:14)\n    at Object.onceWrapper (node:events:632:28)\n    at Server.emit (node:events:518:28)\n    at Server.emit (node:domain:489:12)\n    at emitCloseNT (node:net:2416:8)\n    at processTicksAndRejections (node:internal/process/task_queues:89:21)"],"fullName":"Authentication System HIPAA Compliance should not expose sensitive information in errors","status":"failed","title":"should not expose sensitive information in errors"},{"ancestorTitles":["Authentication System","Performance Tests"],"duration":11,"failureMessages":["Error: expected 200 \"OK\", got 429 \"Too Many Requests\"\n    at Object.expect (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\tests\\auth.test.js:279:18)\n    at Promise.then.completed (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-runner\\build\\testWorker.js:106:12)\n----\n    at Test._assertStatus (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\supertest\\lib\\test.js:252:14)\n    at C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\supertest\\lib\\test.js:308:13\n    at Test._assertFunction (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\supertest\\lib\\test.js:285:13)\n    at Test.assert (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\supertest\\lib\\test.js:164:23)\n    at Server.localAssert (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\supertest\\lib\\test.js:120:14)\n    at Object.onceWrapper (node:events:632:28)\n    at Server.emit (node:events:518:28)\n    at Server.emit (node:domain:489:12)\n    at emitCloseNT (node:net:2416:8)\n    at processTicksAndRejections (node:internal/process/task_queues:89:21)"],"fullName":"Authentication System Performance Tests should respond to login within reasonable time","status":"failed","title":"should respond to login within reasonable time"},{"ancestorTitles":["Authentication System","Performance Tests"],"duration":89,"failureMessages":["Error: expect(received).toBe(expected) // Object.is equality\n\nExpected: 200\nReceived: 429\n    at toBe (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\tests\\auth.test.js:299:41)\n    at Array.forEach (<anonymous>)\n    at Object.forEach (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\tests\\auth.test.js:298:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)"],"fullName":"Authentication System Performance Tests should handle concurrent login requests","status":"failed","title":"should handle concurrent login requests"},{"ancestorTitles":["Encryption Utilities"],"duration":22,"failureMessages":["Error: Encryption failed\n    at Object.encrypt (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\utils\\encryption.js:77:15)\n    at Object.encrypt (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\tests\\auth.test.js:314:38)\n    at Promise.then.completed (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-runner\\build\\testWorker.js:106:12)"],"fullName":"Encryption Utilities should encrypt and decrypt data correctly","status":"failed","title":"should encrypt and decrypt data correctly"},{"ancestorTitles":["Encryption Utilities"],"duration":1,"failureMessages":[],"fullName":"Encryption Utilities should generate secure random keys","status":"passed","title":"should generate secure random keys"},{"ancestorTitles":["Encryption Utilities"],"duration":185,"failureMessages":[],"fullName":"Encryption Utilities should hash sensitive data consistently","status":"passed","title":"should hash sensitive data consistently"},{"ancestorTitles":["Encryption Utilities"],"duration":278,"failureMessages":[],"fullName":"Encryption Utilities should verify hashed data correctly","status":"passed","title":"should verify hashed data correctly"},{"ancestorTitles":["Encryption Utilities"],"duration":8,"failureMessages":["Error: Encryption failed\n    at encrypt (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\utils\\encryption.js:77:15)\n    at Object.encrypt [as encryptPHI] (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\utils\\encryption.js:188:27)\n    at Object.encryptPHI (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\tests\\auth.test.js:361:38)\n    at Promise.then.completed (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-runner\\build\\testWorker.js:106:12)"],"fullName":"Encryption Utilities should encrypt PHI data with metadata","status":"failed","title":"should encrypt PHI data with metadata"},{"ancestorTitles":["Encryption Utilities"],"duration":6,"failureMessages":["Error: Encryption failed\n    at encrypt (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\utils\\encryption.js:77:15)\n    at Object.encrypt [as encryptPHI] (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\utils\\encryption.js:188:27)\n    at Object.encryptPHI (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\tests\\auth.test.js:374:38)\n    at Promise.then.completed (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-runner\\build\\testWorker.js:106:12)"],"fullName":"Encryption Utilities should detect data tampering","status":"failed","title":"should detect data tampering"}]},{"numFailingTests":22,"numPassingTests":2,"numPendingTests":0,"numTodoTests":0,"perfStats":{"end":1758745772030,"runtime":7229,"slow":true,"start":1758745764801},"testFilePath":"C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\tests\\upload.test.js","failureMessage":"  ● Secure Upload System › POST /upload/secure › should successfully upload encrypted file\n\n    Encryption failed\n\n    \u001b[0m \u001b[90m 75 |\u001b[39m     } \u001b[36mcatch\u001b[39m (error) {\n     \u001b[90m 76 |\u001b[39m         console\u001b[33m.\u001b[39merror(\u001b[32m'Encryption error:'\u001b[39m\u001b[33m,\u001b[39m error)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 77 |\u001b[39m         \u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mError\u001b[39m(\u001b[32m'Encryption failed'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 78 |\u001b[39m     }\n     \u001b[90m 79 |\u001b[39m }\n     \u001b[90m 80 |\u001b[39m\u001b[0m\n\n      at Object.encrypt (utils/encryption.js:77:15)\n      at encrypt (tests/upload.test.js:77:47)\n      at Object.createValidUploadPayload (tests/upload.test.js:107:35)\n\n  ● Secure Upload System › POST /upload/secure › should require authentication\n\n    Encryption failed\n\n    \u001b[0m \u001b[90m 75 |\u001b[39m     } \u001b[36mcatch\u001b[39m (error) {\n     \u001b[90m 76 |\u001b[39m         console\u001b[33m.\u001b[39merror(\u001b[32m'Encryption error:'\u001b[39m\u001b[33m,\u001b[39m error)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 77 |\u001b[39m         \u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mError\u001b[39m(\u001b[32m'Encryption failed'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 78 |\u001b[39m     }\n     \u001b[90m 79 |\u001b[39m }\n     \u001b[90m 80 |\u001b[39m\u001b[0m\n\n      at Object.encrypt (utils/encryption.js:77:15)\n      at encrypt (tests/upload.test.js:77:47)\n      at Object.createValidUploadPayload (tests/upload.test.js:127:35)\n\n  ● Secure Upload System › POST /upload/secure › should validate required fields\n\n    Encryption failed\n\n    \u001b[0m \u001b[90m 75 |\u001b[39m     } \u001b[36mcatch\u001b[39m (error) {\n     \u001b[90m 76 |\u001b[39m         console\u001b[33m.\u001b[39merror(\u001b[32m'Encryption error:'\u001b[39m\u001b[33m,\u001b[39m error)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 77 |\u001b[39m         \u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mError\u001b[39m(\u001b[32m'Encryption failed'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 78 |\u001b[39m     }\n     \u001b[90m 79 |\u001b[39m }\n     \u001b[90m 80 |\u001b[39m\u001b[0m\n\n      at Object.encrypt (utils/encryption.js:77:15)\n      at encrypt (tests/upload.test.js:77:47)\n      at Object.createValidUploadPayload (tests/upload.test.js:148:33)\n\n  ● Secure Upload System › POST /upload/secure › should validate file size limits\n\n    Encryption failed\n\n    \u001b[0m \u001b[90m 75 |\u001b[39m     } \u001b[36mcatch\u001b[39m (error) {\n     \u001b[90m 76 |\u001b[39m         console\u001b[33m.\u001b[39merror(\u001b[32m'Encryption error:'\u001b[39m\u001b[33m,\u001b[39m error)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 77 |\u001b[39m         \u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mError\u001b[39m(\u001b[32m'Encryption failed'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 78 |\u001b[39m     }\n     \u001b[90m 79 |\u001b[39m }\n     \u001b[90m 80 |\u001b[39m\u001b[0m\n\n      at Object.encrypt (utils/encryption.js:77:15)\n      at encrypt (tests/upload.test.js:77:47)\n      at Object.createValidUploadPayload (tests/upload.test.js:160:29)\n\n  ● Secure Upload System › POST /upload/secure › should verify organization access\n\n    Encryption failed\n\n    \u001b[0m \u001b[90m 75 |\u001b[39m     } \u001b[36mcatch\u001b[39m (error) {\n     \u001b[90m 76 |\u001b[39m         console\u001b[33m.\u001b[39merror(\u001b[32m'Encryption error:'\u001b[39m\u001b[33m,\u001b[39m error)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 77 |\u001b[39m         \u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mError\u001b[39m(\u001b[32m'Encryption failed'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 78 |\u001b[39m     }\n     \u001b[90m 79 |\u001b[39m }\n     \u001b[90m 80 |\u001b[39m\u001b[0m\n\n      at Object.encrypt (utils/encryption.js:77:15)\n      at encrypt (tests/upload.test.js:77:47)\n      at Object.createValidUploadPayload (tests/upload.test.js:171:29)\n\n  ● Secure Upload System › POST /upload/secure › should handle S3 upload failures\n\n    Encryption failed\n\n    \u001b[0m \u001b[90m 75 |\u001b[39m     } \u001b[36mcatch\u001b[39m (error) {\n     \u001b[90m 76 |\u001b[39m         console\u001b[33m.\u001b[39merror(\u001b[32m'Encryption error:'\u001b[39m\u001b[33m,\u001b[39m error)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 77 |\u001b[39m         \u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mError\u001b[39m(\u001b[32m'Encryption failed'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 78 |\u001b[39m     }\n     \u001b[90m 79 |\u001b[39m }\n     \u001b[90m 80 |\u001b[39m\u001b[0m\n\n      at Object.encrypt (utils/encryption.js:77:15)\n      at encrypt (tests/upload.test.js:77:47)\n      at Object.createValidUploadPayload (tests/upload.test.js:190:29)\n\n  ● Secure Upload System › POST /upload/secure › should include proper S3 metadata\n\n    Encryption failed\n\n    \u001b[0m \u001b[90m 75 |\u001b[39m     } \u001b[36mcatch\u001b[39m (error) {\n     \u001b[90m 76 |\u001b[39m         console\u001b[33m.\u001b[39merror(\u001b[32m'Encryption error:'\u001b[39m\u001b[33m,\u001b[39m error)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 77 |\u001b[39m         \u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mError\u001b[39m(\u001b[32m'Encryption failed'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 78 |\u001b[39m     }\n     \u001b[90m 79 |\u001b[39m }\n     \u001b[90m 80 |\u001b[39m\u001b[0m\n\n      at Object.encrypt (utils/encryption.js:77:15)\n      at encrypt (tests/upload.test.js:77:47)\n      at Object.createValidUploadPayload (tests/upload.test.js:200:29)\n\n  ● Secure Upload System › POST /upload/secure › should use proper S3 key structure\n\n    Encryption failed\n\n    \u001b[0m \u001b[90m 75 |\u001b[39m     } \u001b[36mcatch\u001b[39m (error) {\n     \u001b[90m 76 |\u001b[39m         console\u001b[33m.\u001b[39merror(\u001b[32m'Encryption error:'\u001b[39m\u001b[33m,\u001b[39m error)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 77 |\u001b[39m         \u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mError\u001b[39m(\u001b[32m'Encryption failed'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 78 |\u001b[39m     }\n     \u001b[90m 79 |\u001b[39m }\n     \u001b[90m 80 |\u001b[39m\u001b[0m\n\n      at Object.encrypt (utils/encryption.js:77:15)\n      at encrypt (tests/upload.test.js:77:47)\n      at Object.createValidUploadPayload (tests/upload.test.js:218:29)\n\n  ● Secure Upload System › GET /upload/history › should return upload history for authenticated user\n\n    expected 200 \"OK\", got 403 \"Forbidden\"\n\n    \u001b[0m \u001b[90m 262 |\u001b[39m                 \u001b[33m.\u001b[39m\u001b[36mget\u001b[39m(\u001b[32m'/upload/history'\u001b[39m)\n     \u001b[90m 263 |\u001b[39m                 \u001b[33m.\u001b[39m\u001b[36mset\u001b[39m(\u001b[32m'Authorization'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m`Bearer ${authToken}`\u001b[39m)\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 264 |\u001b[39m                 \u001b[33m.\u001b[39mexpect(\u001b[35m200\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 265 |\u001b[39m\n     \u001b[90m 266 |\u001b[39m             expect(response\u001b[33m.\u001b[39mbody)\u001b[33m.\u001b[39mtoHaveProperty(\u001b[32m'success'\u001b[39m\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 267 |\u001b[39m             expect(response\u001b[33m.\u001b[39mbody)\u001b[33m.\u001b[39mtoHaveProperty(\u001b[32m'uploads'\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.expect (tests/upload.test.js:264:18)\n      ----\n      at Test._assertStatus (node_modules/supertest/lib/test.js:252:14)\n      at node_modules/supertest/lib/test.js:308:13\n      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)\n      at Test.assert (node_modules/supertest/lib/test.js:164:23)\n      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)\n\n  ● Secure Upload System › GET /upload/history › should support pagination\n\n    expected 200 \"OK\", got 403 \"Forbidden\"\n\n    \u001b[0m \u001b[90m 279 |\u001b[39m                 \u001b[33m.\u001b[39m\u001b[36mget\u001b[39m(\u001b[32m'/upload/history?page=2&limit=10'\u001b[39m)\n     \u001b[90m 280 |\u001b[39m                 \u001b[33m.\u001b[39m\u001b[36mset\u001b[39m(\u001b[32m'Authorization'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m`Bearer ${authToken}`\u001b[39m)\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 281 |\u001b[39m                 \u001b[33m.\u001b[39mexpect(\u001b[35m200\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 282 |\u001b[39m         })\u001b[33m;\u001b[39m\n     \u001b[90m 283 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 284 |\u001b[39m\u001b[0m\n\n      at Object.expect (tests/upload.test.js:281:18)\n      ----\n      at Test._assertStatus (node_modules/supertest/lib/test.js:252:14)\n      at node_modules/supertest/lib/test.js:308:13\n      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)\n      at Test.assert (node_modules/supertest/lib/test.js:164:23)\n      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)\n\n  ● Secure Upload System › DELETE /upload/:uploadId › should delete upload with proper permissions\n\n    expected 200 \"OK\", got 403 \"Forbidden\"\n\n    \u001b[0m \u001b[90m 305 |\u001b[39m                 \u001b[33m.\u001b[39m\u001b[36mdelete\u001b[39m(\u001b[32m'/upload/test-upload-id'\u001b[39m)\n     \u001b[90m 306 |\u001b[39m                 \u001b[33m.\u001b[39m\u001b[36mset\u001b[39m(\u001b[32m'Authorization'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m`Bearer ${authToken}`\u001b[39m)\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 307 |\u001b[39m                 \u001b[33m.\u001b[39mexpect(\u001b[35m200\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 308 |\u001b[39m\n     \u001b[90m 309 |\u001b[39m             expect(response\u001b[33m.\u001b[39mbody)\u001b[33m.\u001b[39mtoHaveProperty(\u001b[32m'success'\u001b[39m\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 310 |\u001b[39m             expect(response\u001b[33m.\u001b[39mbody)\u001b[33m.\u001b[39mtoHaveProperty(\u001b[32m'message'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'Upload deleted successfully'\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.expect (tests/upload.test.js:307:18)\n      ----\n      at Test._assertStatus (node_modules/supertest/lib/test.js:252:14)\n      at node_modules/supertest/lib/test.js:308:13\n      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)\n      at Test.assert (node_modules/supertest/lib/test.js:164:23)\n      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)\n\n  ● Secure Upload System › DELETE /upload/:uploadId › should handle non-existent upload\n\n    expected 404 \"Not Found\", got 403 \"Forbidden\"\n\n    \u001b[0m \u001b[90m 331 |\u001b[39m                 \u001b[33m.\u001b[39m\u001b[36mdelete\u001b[39m(\u001b[32m'/upload/non-existent-id'\u001b[39m)\n     \u001b[90m 332 |\u001b[39m                 \u001b[33m.\u001b[39m\u001b[36mset\u001b[39m(\u001b[32m'Authorization'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m`Bearer ${authToken}`\u001b[39m)\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 333 |\u001b[39m                 \u001b[33m.\u001b[39mexpect(\u001b[35m404\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 334 |\u001b[39m         })\u001b[33m;\u001b[39m\n     \u001b[90m 335 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 336 |\u001b[39m\u001b[0m\n\n      at Object.expect (tests/upload.test.js:333:18)\n      ----\n      at Test._assertStatus (node_modules/supertest/lib/test.js:252:14)\n      at node_modules/supertest/lib/test.js:308:13\n      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)\n      at Test.assert (node_modules/supertest/lib/test.js:164:23)\n      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)\n\n  ● Secure Upload System › Security Tests › should sanitize upload metadata\n\n    ReferenceError: createValidUploadPayload is not defined\n\n    \u001b[0m \u001b[90m 337 |\u001b[39m     describe(\u001b[32m'Security Tests'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 338 |\u001b[39m         test(\u001b[32m'should sanitize upload metadata'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 339 |\u001b[39m             \u001b[36mconst\u001b[39m payload \u001b[33m=\u001b[39m createValidUploadPayload()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 340 |\u001b[39m             payload\u001b[33m.\u001b[39morganizationId \u001b[33m=\u001b[39m \u001b[32m'<script>alert(\"xss\")</script>'\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 341 |\u001b[39m\n     \u001b[90m 342 |\u001b[39m             \u001b[36mconst\u001b[39m response \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m request(app)\u001b[0m\n\n      at Object.createValidUploadPayload (tests/upload.test.js:339:29)\n\n  ● Secure Upload System › Security Tests › should validate upload timestamp\n\n    ReferenceError: createValidUploadPayload is not defined\n\n    \u001b[0m \u001b[90m 350 |\u001b[39m\n     \u001b[90m 351 |\u001b[39m         test(\u001b[32m'should validate upload timestamp'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 352 |\u001b[39m             \u001b[36mconst\u001b[39m payload \u001b[33m=\u001b[39m createValidUploadPayload()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 353 |\u001b[39m             payload\u001b[33m.\u001b[39muploadTimestamp \u001b[33m=\u001b[39m \u001b[32m'invalid-timestamp'\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 354 |\u001b[39m\n     \u001b[90m 355 |\u001b[39m             \u001b[36mawait\u001b[39m request(app)\u001b[0m\n\n      at Object.createValidUploadPayload (tests/upload.test.js:352:29)\n\n  ● Secure Upload System › Security Tests › should prevent path traversal in filenames\n\n    ReferenceError: createValidUploadPayload is not defined\n\n    \u001b[0m \u001b[90m 361 |\u001b[39m\n     \u001b[90m 362 |\u001b[39m         test(\u001b[32m'should prevent path traversal in filenames'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 363 |\u001b[39m             \u001b[36mconst\u001b[39m payload \u001b[33m=\u001b[39m createValidUploadPayload()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 364 |\u001b[39m             payload\u001b[33m.\u001b[39mfileName \u001b[33m=\u001b[39m \u001b[32m'../../etc/passwd'\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 365 |\u001b[39m\n     \u001b[90m 366 |\u001b[39m             \u001b[36mconst\u001b[39m response \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m request(app)\u001b[0m\n\n      at Object.createValidUploadPayload (tests/upload.test.js:363:29)\n\n  ● Secure Upload System › Performance Tests › should handle upload within reasonable time\n\n    ReferenceError: createValidUploadPayload is not defined\n\n    \u001b[0m \u001b[90m 374 |\u001b[39m     describe(\u001b[32m'Performance Tests'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 375 |\u001b[39m         test(\u001b[32m'should handle upload within reasonable time'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 376 |\u001b[39m             \u001b[36mconst\u001b[39m payload \u001b[33m=\u001b[39m createValidUploadPayload()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 377 |\u001b[39m             \u001b[36mconst\u001b[39m start \u001b[33m=\u001b[39m \u001b[33mDate\u001b[39m\u001b[33m.\u001b[39mnow()\u001b[33m;\u001b[39m\n     \u001b[90m 378 |\u001b[39m\n     \u001b[90m 379 |\u001b[39m             \u001b[36mawait\u001b[39m request(app)\u001b[0m\n\n      at Object.createValidUploadPayload (tests/upload.test.js:376:29)\n\n  ● Secure Upload System › Performance Tests › should handle concurrent uploads\n\n    ReferenceError: createValidUploadPayload is not defined\n\n    \u001b[0m \u001b[90m 389 |\u001b[39m         test(\u001b[32m'should handle concurrent uploads'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 390 |\u001b[39m             \u001b[36mconst\u001b[39m uploads \u001b[33m=\u001b[39m \u001b[33mArray\u001b[39m(\u001b[35m5\u001b[39m)\u001b[33m.\u001b[39mfill()\u001b[33m.\u001b[39mmap(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 391 |\u001b[39m                 \u001b[36mconst\u001b[39m payload \u001b[33m=\u001b[39m createValidUploadPayload()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 392 |\u001b[39m                 \u001b[36mreturn\u001b[39m request(app)\n     \u001b[90m 393 |\u001b[39m                     \u001b[33m.\u001b[39mpost(\u001b[32m'/upload/secure'\u001b[39m)\n     \u001b[90m 394 |\u001b[39m                     \u001b[33m.\u001b[39m\u001b[36mset\u001b[39m(\u001b[32m'Authorization'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m`Bearer ${authToken}`\u001b[39m)\u001b[0m\n\n      at createValidUploadPayload (tests/upload.test.js:391:33)\n          at Array.map (<anonymous>)\n      at Object.map (tests/upload.test.js:390:45)\n\n  ● Secure Upload System › HIPAA Compliance › should create audit trail for uploads\n\n    ReferenceError: createValidUploadPayload is not defined\n\n    \u001b[0m \u001b[90m 407 |\u001b[39m     describe(\u001b[32m'HIPAA Compliance'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 408 |\u001b[39m         test(\u001b[32m'should create audit trail for uploads'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 409 |\u001b[39m             \u001b[36mconst\u001b[39m payload \u001b[33m=\u001b[39m createValidUploadPayload()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 410 |\u001b[39m\n     \u001b[90m 411 |\u001b[39m             \u001b[36mawait\u001b[39m request(app)\n     \u001b[90m 412 |\u001b[39m                 \u001b[33m.\u001b[39mpost(\u001b[32m'/upload/secure'\u001b[39m)\u001b[0m\n\n      at Object.createValidUploadPayload (tests/upload.test.js:409:29)\n\n  ● Secure Upload System › HIPAA Compliance › should use proper encryption in transit and at rest\n\n    ReferenceError: createValidUploadPayload is not defined\n\n    \u001b[0m \u001b[90m 420 |\u001b[39m\n     \u001b[90m 421 |\u001b[39m         test(\u001b[32m'should use proper encryption in transit and at rest'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 422 |\u001b[39m             \u001b[36mconst\u001b[39m payload \u001b[33m=\u001b[39m createValidUploadPayload()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 423 |\u001b[39m\n     \u001b[90m 424 |\u001b[39m             \u001b[36mawait\u001b[39m request(app)\n     \u001b[90m 425 |\u001b[39m                 \u001b[33m.\u001b[39mpost(\u001b[32m'/upload/secure'\u001b[39m)\u001b[0m\n\n      at Object.createValidUploadPayload (tests/upload.test.js:422:29)\n\n  ● Secure Upload System › HIPAA Compliance › should isolate data by organization\n\n    ReferenceError: createValidUploadPayload is not defined\n\n    \u001b[0m \u001b[90m 437 |\u001b[39m\n     \u001b[90m 438 |\u001b[39m         test(\u001b[32m'should isolate data by organization'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 439 |\u001b[39m             \u001b[36mconst\u001b[39m payload \u001b[33m=\u001b[39m createValidUploadPayload()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 440 |\u001b[39m\n     \u001b[90m 441 |\u001b[39m             \u001b[36mawait\u001b[39m request(app)\n     \u001b[90m 442 |\u001b[39m                 \u001b[33m.\u001b[39mpost(\u001b[32m'/upload/secure'\u001b[39m)\u001b[0m\n\n      at Object.createValidUploadPayload (tests/upload.test.js:439:29)\n\n  ● Upload Encryption Integration › should maintain data integrity through encryption layers\n\n    Encryption failed\n\n    \u001b[0m \u001b[90m 75 |\u001b[39m     } \u001b[36mcatch\u001b[39m (error) {\n     \u001b[90m 76 |\u001b[39m         console\u001b[33m.\u001b[39merror(\u001b[32m'Encryption error:'\u001b[39m\u001b[33m,\u001b[39m error)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 77 |\u001b[39m         \u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mError\u001b[39m(\u001b[32m'Encryption failed'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 78 |\u001b[39m     }\n     \u001b[90m 79 |\u001b[39m }\n     \u001b[90m 80 |\u001b[39m\u001b[0m\n\n      at Object.encrypt (utils/encryption.js:77:15)\n      at Object.encrypt (tests/upload.test.js:468:44)\n\n  ● Upload Encryption Integration › should detect tampering in double-encrypted data\n\n    Encryption failed\n\n    \u001b[0m \u001b[90m 75 |\u001b[39m     } \u001b[36mcatch\u001b[39m (error) {\n     \u001b[90m 76 |\u001b[39m         console\u001b[33m.\u001b[39merror(\u001b[32m'Encryption error:'\u001b[39m\u001b[33m,\u001b[39m error)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 77 |\u001b[39m         \u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mError\u001b[39m(\u001b[32m'Encryption failed'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 78 |\u001b[39m     }\n     \u001b[90m 79 |\u001b[39m }\n     \u001b[90m 80 |\u001b[39m\u001b[0m\n\n      at Object.encrypt (utils/encryption.js:77:15)\n      at Object.encrypt (tests/upload.test.js:486:39)\n","testResults":[{"ancestorTitles":["Secure Upload System","POST /upload/secure"],"duration":435,"failureMessages":["Error: Encryption failed\n    at Object.encrypt (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\utils\\encryption.js:77:15)\n    at encrypt (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\tests\\upload.test.js:77:47)\n    at Object.createValidUploadPayload (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\tests\\upload.test.js:107:35)\n    at Promise.then.completed (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-runner\\build\\testWorker.js:106:12)"],"fullName":"Secure Upload System POST /upload/secure should successfully upload encrypted file","status":"failed","title":"should successfully upload encrypted file"},{"ancestorTitles":["Secure Upload System","POST /upload/secure"],"duration":177,"failureMessages":["Error: Encryption failed\n    at Object.encrypt (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\utils\\encryption.js:77:15)\n    at encrypt (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\tests\\upload.test.js:77:47)\n    at Object.createValidUploadPayload (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\tests\\upload.test.js:127:35)\n    at Promise.then.completed (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-runner\\build\\testWorker.js:106:12)"],"fullName":"Secure Upload System POST /upload/secure should require authentication","status":"failed","title":"should require authentication"},{"ancestorTitles":["Secure Upload System","POST /upload/secure"],"duration":171,"failureMessages":["Error: Encryption failed\n    at Object.encrypt (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\utils\\encryption.js:77:15)\n    at encrypt (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\tests\\upload.test.js:77:47)\n    at Object.createValidUploadPayload (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\tests\\upload.test.js:148:33)\n    at Promise.then.completed (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-runner\\build\\testWorker.js:106:12)"],"fullName":"Secure Upload System POST /upload/secure should validate required fields","status":"failed","title":"should validate required fields"},{"ancestorTitles":["Secure Upload System","POST /upload/secure"],"duration":164,"failureMessages":["Error: Encryption failed\n    at Object.encrypt (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\utils\\encryption.js:77:15)\n    at encrypt (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\tests\\upload.test.js:77:47)\n    at Object.createValidUploadPayload (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\tests\\upload.test.js:160:29)\n    at Promise.then.completed (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-runner\\build\\testWorker.js:106:12)"],"fullName":"Secure Upload System POST /upload/secure should validate file size limits","status":"failed","title":"should validate file size limits"},{"ancestorTitles":["Secure Upload System","POST /upload/secure"],"duration":164,"failureMessages":["Error: Encryption failed\n    at Object.encrypt (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\utils\\encryption.js:77:15)\n    at encrypt (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\tests\\upload.test.js:77:47)\n    at Object.createValidUploadPayload (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\tests\\upload.test.js:171:29)\n    at Promise.then.completed (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-runner\\build\\testWorker.js:106:12)"],"fullName":"Secure Upload System POST /upload/secure should verify organization access","status":"failed","title":"should verify organization access"},{"ancestorTitles":["Secure Upload System","POST /upload/secure"],"duration":23,"failureMessages":["Error: Encryption failed\n    at Object.encrypt (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\utils\\encryption.js:77:15)\n    at encrypt (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\tests\\upload.test.js:77:47)\n    at Object.createValidUploadPayload (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\tests\\upload.test.js:190:29)\n    at Promise.then.completed (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-runner\\build\\testWorker.js:106:12)"],"fullName":"Secure Upload System POST /upload/secure should handle S3 upload failures","status":"failed","title":"should handle S3 upload failures"},{"ancestorTitles":["Secure Upload System","POST /upload/secure"],"duration":16,"failureMessages":["Error: Encryption failed\n    at Object.encrypt (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\utils\\encryption.js:77:15)\n    at encrypt (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\tests\\upload.test.js:77:47)\n    at Object.createValidUploadPayload (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\tests\\upload.test.js:200:29)\n    at Promise.then.completed (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-runner\\build\\testWorker.js:106:12)"],"fullName":"Secure Upload System POST /upload/secure should include proper S3 metadata","status":"failed","title":"should include proper S3 metadata"},{"ancestorTitles":["Secure Upload System","POST /upload/secure"],"duration":16,"failureMessages":["Error: Encryption failed\n    at Object.encrypt (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\utils\\encryption.js:77:15)\n    at encrypt (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\tests\\upload.test.js:77:47)\n    at Object.createValidUploadPayload (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\tests\\upload.test.js:218:29)\n    at Promise.then.completed (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-runner\\build\\testWorker.js:106:12)"],"fullName":"Secure Upload System POST /upload/secure should use proper S3 key structure","status":"failed","title":"should use proper S3 key structure"},{"ancestorTitles":["Secure Upload System","GET /upload/history"],"duration":58,"failureMessages":["Error: expected 200 \"OK\", got 403 \"Forbidden\"\n    at Object.expect (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\tests\\upload.test.js:264:18)\n    at Promise.then.completed (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-runner\\build\\testWorker.js:106:12)\n----\n    at Test._assertStatus (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\supertest\\lib\\test.js:252:14)\n    at C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\supertest\\lib\\test.js:308:13\n    at Test._assertFunction (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\supertest\\lib\\test.js:285:13)\n    at Test.assert (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\supertest\\lib\\test.js:164:23)\n    at Server.localAssert (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\supertest\\lib\\test.js:120:14)\n    at Object.onceWrapper (node:events:632:28)\n    at Server.emit (node:events:518:28)\n    at Server.emit (node:domain:489:12)\n    at emitCloseNT (node:net:2416:8)\n    at processTicksAndRejections (node:internal/process/task_queues:89:21)"],"fullName":"Secure Upload System GET /upload/history should return upload history for authenticated user","status":"failed","title":"should return upload history for authenticated user"},{"ancestorTitles":["Secure Upload System","GET /upload/history"],"duration":26,"failureMessages":[],"fullName":"Secure Upload System GET /upload/history should require authentication for history access","status":"passed","title":"should require authentication for history access"},{"ancestorTitles":["Secure Upload System","GET /upload/history"],"duration":42,"failureMessages":["Error: expected 200 \"OK\", got 403 \"Forbidden\"\n    at Object.expect (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\tests\\upload.test.js:281:18)\n    at Promise.then.completed (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-runner\\build\\testWorker.js:106:12)\n----\n    at Test._assertStatus (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\supertest\\lib\\test.js:252:14)\n    at C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\supertest\\lib\\test.js:308:13\n    at Test._assertFunction (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\supertest\\lib\\test.js:285:13)\n    at Test.assert (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\supertest\\lib\\test.js:164:23)\n    at Server.localAssert (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\supertest\\lib\\test.js:120:14)\n    at Object.onceWrapper (node:events:632:28)\n    at Server.emit (node:events:518:28)\n    at Server.emit (node:domain:489:12)\n    at emitCloseNT (node:net:2416:8)\n    at processTicksAndRejections (node:internal/process/task_queues:89:21)"],"fullName":"Secure Upload System GET /upload/history should support pagination","status":"failed","title":"should support pagination"},{"ancestorTitles":["Secure Upload System","DELETE /upload/:uploadId"],"duration":43,"failureMessages":["Error: expected 200 \"OK\", got 403 \"Forbidden\"\n    at Object.expect (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\tests\\upload.test.js:307:18)\n    at Promise.then.completed (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-runner\\build\\testWorker.js:106:12)\n----\n    at Test._assertStatus (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\supertest\\lib\\test.js:252:14)\n    at C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\supertest\\lib\\test.js:308:13\n    at Test._assertFunction (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\supertest\\lib\\test.js:285:13)\n    at Test.assert (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\supertest\\lib\\test.js:164:23)\n    at Server.localAssert (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\supertest\\lib\\test.js:120:14)\n    at Object.onceWrapper (node:events:632:28)\n    at Server.emit (node:events:518:28)\n    at Server.emit (node:domain:489:12)\n    at emitCloseNT (node:net:2416:8)\n    at processTicksAndRejections (node:internal/process/task_queues:89:21)"],"fullName":"Secure Upload System DELETE /upload/:uploadId should delete upload with proper permissions","status":"failed","title":"should delete upload with proper permissions"},{"ancestorTitles":["Secure Upload System","DELETE /upload/:uploadId"],"duration":19,"failureMessages":[],"fullName":"Secure Upload System DELETE /upload/:uploadId should require authentication for deletion","status":"passed","title":"should require authentication for deletion"},{"ancestorTitles":["Secure Upload System","DELETE /upload/:uploadId"],"duration":42,"failureMessages":["Error: expected 404 \"Not Found\", got 403 \"Forbidden\"\n    at Object.expect (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\tests\\upload.test.js:333:18)\n    at Promise.then.completed (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-runner\\build\\testWorker.js:106:12)\n----\n    at Test._assertStatus (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\supertest\\lib\\test.js:252:14)\n    at C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\supertest\\lib\\test.js:308:13\n    at Test._assertFunction (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\supertest\\lib\\test.js:285:13)\n    at Test.assert (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\supertest\\lib\\test.js:164:23)\n    at Server.localAssert (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\supertest\\lib\\test.js:120:14)\n    at Object.onceWrapper (node:events:632:28)\n    at Server.emit (node:events:518:28)\n    at Server.emit (node:domain:489:12)\n    at emitCloseNT (node:net:2416:8)\n    at processTicksAndRejections (node:internal/process/task_queues:89:21)"],"fullName":"Secure Upload System DELETE /upload/:uploadId should handle non-existent upload","status":"failed","title":"should handle non-existent upload"},{"ancestorTitles":["Secure Upload System","Security Tests"],"duration":9,"failureMessages":["ReferenceError: createValidUploadPayload is not defined\n    at Object.createValidUploadPayload (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\tests\\upload.test.js:339:29)\n    at Promise.then.completed (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-runner\\build\\testWorker.js:106:12)"],"fullName":"Secure Upload System Security Tests should sanitize upload metadata","status":"failed","title":"should sanitize upload metadata"},{"ancestorTitles":["Secure Upload System","Security Tests"],"duration":10,"failureMessages":["ReferenceError: createValidUploadPayload is not defined\n    at Object.createValidUploadPayload (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\tests\\upload.test.js:352:29)\n    at Promise.then.completed (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-runner\\build\\testWorker.js:106:12)"],"fullName":"Secure Upload System Security Tests should validate upload timestamp","status":"failed","title":"should validate upload timestamp"},{"ancestorTitles":["Secure Upload System","Security Tests"],"duration":9,"failureMessages":["ReferenceError: createValidUploadPayload is not defined\n    at Object.createValidUploadPayload (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\tests\\upload.test.js:363:29)\n    at Promise.then.completed (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-runner\\build\\testWorker.js:106:12)"],"fullName":"Secure Upload System Security Tests should prevent path traversal in filenames","status":"failed","title":"should prevent path traversal in filenames"},{"ancestorTitles":["Secure Upload System","Performance Tests"],"duration":10,"failureMessages":["ReferenceError: createValidUploadPayload is not defined\n    at Object.createValidUploadPayload (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\tests\\upload.test.js:376:29)\n    at Promise.then.completed (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-runner\\build\\testWorker.js:106:12)"],"fullName":"Secure Upload System Performance Tests should handle upload within reasonable time","status":"failed","title":"should handle upload within reasonable time"},{"ancestorTitles":["Secure Upload System","Performance Tests"],"duration":11,"failureMessages":["ReferenceError: createValidUploadPayload is not defined\n    at createValidUploadPayload (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\tests\\upload.test.js:391:33)\n    at Array.map (<anonymous>)\n    at Object.map (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\tests\\upload.test.js:390:45)\n    at Promise.then.completed (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-runner\\build\\testWorker.js:106:12)"],"fullName":"Secure Upload System Performance Tests should handle concurrent uploads","status":"failed","title":"should handle concurrent uploads"},{"ancestorTitles":["Secure Upload System","HIPAA Compliance"],"duration":12,"failureMessages":["ReferenceError: createValidUploadPayload is not defined\n    at Object.createValidUploadPayload (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\tests\\upload.test.js:409:29)\n    at Promise.then.completed (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-runner\\build\\testWorker.js:106:12)"],"fullName":"Secure Upload System HIPAA Compliance should create audit trail for uploads","status":"failed","title":"should create audit trail for uploads"},{"ancestorTitles":["Secure Upload System","HIPAA Compliance"],"duration":10,"failureMessages":["ReferenceError: createValidUploadPayload is not defined\n    at Object.createValidUploadPayload (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\tests\\upload.test.js:422:29)\n    at Promise.then.completed (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-runner\\build\\testWorker.js:106:12)"],"fullName":"Secure Upload System HIPAA Compliance should use proper encryption in transit and at rest","status":"failed","title":"should use proper encryption in transit and at rest"},{"ancestorTitles":["Secure Upload System","HIPAA Compliance"],"duration":9,"failureMessages":["ReferenceError: createValidUploadPayload is not defined\n    at Object.createValidUploadPayload (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\tests\\upload.test.js:439:29)\n    at Promise.then.completed (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-runner\\build\\testWorker.js:106:12)"],"fullName":"Secure Upload System HIPAA Compliance should isolate data by organization","status":"failed","title":"should isolate data by organization"},{"ancestorTitles":["Upload Encryption Integration"],"duration":6,"failureMessages":["Error: Encryption failed\n    at Object.encrypt (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\utils\\encryption.js:77:15)\n    at Object.encrypt (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\tests\\upload.test.js:468:44)\n    at Promise.then.completed (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-runner\\build\\testWorker.js:106:12)"],"fullName":"Upload Encryption Integration should maintain data integrity through encryption layers","status":"failed","title":"should maintain data integrity through encryption layers"},{"ancestorTitles":["Upload Encryption Integration"],"duration":6,"failureMessages":["Error: Encryption failed\n    at Object.encrypt (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\utils\\encryption.js:77:15)\n    at Object.encrypt (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\tests\\upload.test.js:486:39)\n    at Promise.then.completed (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-runner\\build\\testWorker.js:106:12)"],"fullName":"Upload Encryption Integration should detect tampering in double-encrypted data","status":"failed","title":"should detect tampering in double-encrypted data"}]},{"numFailingTests":12,"numPassingTests":24,"numPendingTests":0,"numTodoTests":0,"perfStats":{"end":1758745802521,"runtime":37713,"slow":true,"start":1758745764808},"testFilePath":"C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\tests\\security.test.js","failureMessage":"  ● Security Middleware › Security Headers › should include all required security headers\n\n    expect(received).toHaveProperty(path, value)\n\n    Expected path: \"x-frame-options\"\n\n    Expected value: \"DENY\"\n    Received value: \"SAMEORIGIN\"\n\n    \u001b[0m \u001b[90m 29 |\u001b[39m             \u001b[90m// Basic security headers\u001b[39m\n     \u001b[90m 30 |\u001b[39m             expect(response\u001b[33m.\u001b[39mheaders)\u001b[33m.\u001b[39mtoHaveProperty(\u001b[32m'x-content-type-options'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'nosniff'\u001b[39m)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 31 |\u001b[39m             expect(response\u001b[33m.\u001b[39mheaders)\u001b[33m.\u001b[39mtoHaveProperty(\u001b[32m'x-frame-options'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'DENY'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 32 |\u001b[39m             expect(response\u001b[33m.\u001b[39mheaders)\u001b[33m.\u001b[39mtoHaveProperty(\u001b[32m'x-xss-protection'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'1; mode=block'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 33 |\u001b[39m             expect(response\u001b[33m.\u001b[39mheaders)\u001b[33m.\u001b[39mtoHaveProperty(\u001b[32m'referrer-policy'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'no-referrer'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 34 |\u001b[39m\u001b[0m\n\n      at Object.toHaveProperty (tests/security.test.js:31:38)\n\n  ● Security Middleware › Content Type Validation › should accept valid JSON content type\n\n    expected 401 \"Unauthorized\", got 400 \"Bad Request\"\n\n    \u001b[0m \u001b[90m 57 |\u001b[39m                 \u001b[33m.\u001b[39m\u001b[36mset\u001b[39m(\u001b[32m'Content-Type'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'application/json'\u001b[39m)\n     \u001b[90m 58 |\u001b[39m                 \u001b[33m.\u001b[39msend(\u001b[33mJSON\u001b[39m\u001b[33m.\u001b[39mstringify({ username\u001b[33m:\u001b[39m \u001b[32m'test'\u001b[39m\u001b[33m,\u001b[39m password\u001b[33m:\u001b[39m \u001b[32m'test'\u001b[39m }))\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 59 |\u001b[39m                 \u001b[33m.\u001b[39mexpect(\u001b[35m401\u001b[39m)\u001b[33m;\u001b[39m \u001b[90m// Unauthorized is OK, we're testing content-type validation\u001b[39m\n     \u001b[90m    |\u001b[39m                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 60 |\u001b[39m         })\u001b[33m;\u001b[39m\n     \u001b[90m 61 |\u001b[39m\n     \u001b[90m 62 |\u001b[39m         test(\u001b[32m'should reject invalid content type'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.expect (tests/security.test.js:59:18)\n      ----\n      at Test._assertStatus (node_modules/supertest/lib/test.js:252:14)\n      at node_modules/supertest/lib/test.js:308:13\n      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)\n      at Test.assert (node_modules/supertest/lib/test.js:164:23)\n      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)\n\n  ● Security Middleware › Request Size Validation › should reject oversized requests\n\n    thrown: \"Exceeded timeout of 30000 ms for a test.\n    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout.\"\n\n    \u001b[0m \u001b[90m 77 |\u001b[39m\n     \u001b[90m 78 |\u001b[39m     describe(\u001b[32m'Request Size Validation'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 79 |\u001b[39m         test(\u001b[32m'should reject oversized requests'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m    |\u001b[39m         \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 80 |\u001b[39m             \u001b[36mconst\u001b[39m largeData \u001b[33m=\u001b[39m \u001b[32m'x'\u001b[39m\u001b[33m.\u001b[39mrepeat(\u001b[35m100\u001b[39m \u001b[33m*\u001b[39m \u001b[35m1024\u001b[39m \u001b[33m*\u001b[39m \u001b[35m1024\u001b[39m)\u001b[33m;\u001b[39m \u001b[90m// 100MB\u001b[39m\n     \u001b[90m 81 |\u001b[39m\n     \u001b[90m 82 |\u001b[39m             \u001b[36mconst\u001b[39m response \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m request(app)\u001b[0m\n\n      at test (tests/security.test.js:79:9)\n      at describe (tests/security.test.js:78:5)\n      at Object.describe (tests/security.test.js:9:1)\n\n  ● Security Middleware › Input Sanitization › should sanitize XSS attempts\n\n    expected 401 \"Unauthorized\", got 400 \"Bad Request\"\n\n    \u001b[0m \u001b[90m 101 |\u001b[39m                 \u001b[33m.\u001b[39m\u001b[36mset\u001b[39m(\u001b[32m'Content-Type'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'application/json'\u001b[39m)\n     \u001b[90m 102 |\u001b[39m                 \u001b[33m.\u001b[39msend(maliciousData)\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 103 |\u001b[39m                 \u001b[33m.\u001b[39mexpect(\u001b[35m401\u001b[39m)\u001b[33m;\u001b[39m \u001b[90m// Should not crash, just fail auth\u001b[39m\n     \u001b[90m     |\u001b[39m                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 104 |\u001b[39m\n     \u001b[90m 105 |\u001b[39m             expect(response\u001b[33m.\u001b[39mbody)\u001b[33m.\u001b[39mtoHaveProperty(\u001b[32m'success'\u001b[39m\u001b[33m,\u001b[39m \u001b[36mfalse\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 106 |\u001b[39m         })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.expect (tests/security.test.js:103:18)\n      ----\n      at Test._assertStatus (node_modules/supertest/lib/test.js:252:14)\n      at node_modules/supertest/lib/test.js:308:13\n      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)\n      at Test.assert (node_modules/supertest/lib/test.js:164:23)\n      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)\n\n  ● Security Middleware › Error Information Disclosure › should not expose internal errors in production\n\n    expected 404 \"Not Found\", got 429 \"Too Many Requests\"\n\n    \u001b[0m \u001b[90m 196 |\u001b[39m                 \u001b[33m.\u001b[39m\u001b[36mset\u001b[39m(\u001b[32m'Content-Type'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'application/json'\u001b[39m)\n     \u001b[90m 197 |\u001b[39m                 \u001b[33m.\u001b[39msend({ data\u001b[33m:\u001b[39m \u001b[32m'test'\u001b[39m })\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 198 |\u001b[39m                 \u001b[33m.\u001b[39mexpect(\u001b[35m404\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 199 |\u001b[39m\n     \u001b[90m 200 |\u001b[39m             expect(response\u001b[33m.\u001b[39mbody)\u001b[33m.\u001b[39mtoHaveProperty(\u001b[32m'success'\u001b[39m\u001b[33m,\u001b[39m \u001b[36mfalse\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 201 |\u001b[39m             expect(response\u001b[33m.\u001b[39mbody)\u001b[33m.\u001b[39mtoHaveProperty(\u001b[32m'message'\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.expect (tests/security.test.js:198:18)\n      ----\n      at Test._assertStatus (node_modules/supertest/lib/test.js:252:14)\n      at node_modules/supertest/lib/test.js:308:13\n      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)\n      at Test.assert (node_modules/supertest/lib/test.js:164:23)\n      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)\n\n  ● Security Middleware › Error Information Disclosure › should provide generic error messages\n\n    expected 401 \"Unauthorized\", got 429 \"Too Many Requests\"\n\n    \u001b[0m \u001b[90m 212 |\u001b[39m                 \u001b[33m.\u001b[39m\u001b[36mset\u001b[39m(\u001b[32m'Content-Type'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'application/json'\u001b[39m)\n     \u001b[90m 213 |\u001b[39m                 \u001b[33m.\u001b[39msend({ username\u001b[33m:\u001b[39m \u001b[32m'nonexistent'\u001b[39m\u001b[33m,\u001b[39m password\u001b[33m:\u001b[39m \u001b[32m'wrong'\u001b[39m })\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 214 |\u001b[39m                 \u001b[33m.\u001b[39mexpect(\u001b[35m401\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 215 |\u001b[39m\n     \u001b[90m 216 |\u001b[39m             \u001b[90m// Should use generic message, not specific details\u001b[39m\n     \u001b[90m 217 |\u001b[39m             expect(response\u001b[33m.\u001b[39mbody\u001b[33m.\u001b[39mmessage)\u001b[33m.\u001b[39mtoBe(\u001b[32m'Invalid credentials'\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.expect (tests/security.test.js:214:18)\n      ----\n      at Test._assertStatus (node_modules/supertest/lib/test.js:252:14)\n      at node_modules/supertest/lib/test.js:308:13\n      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)\n      at Test.assert (node_modules/supertest/lib/test.js:164:23)\n      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)\n\n  ● Security Middleware › Session Security › should invalidate sessions on logout\n\n    expected 200 \"OK\", got 429 \"Too Many Requests\"\n\n    \u001b[0m \u001b[90m 241 |\u001b[39m                 \u001b[33m.\u001b[39mpost(\u001b[32m'/auth/logout'\u001b[39m)\n     \u001b[90m 242 |\u001b[39m                 \u001b[33m.\u001b[39m\u001b[36mset\u001b[39m(\u001b[32m'Authorization'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m`Bearer ${authToken}`\u001b[39m)\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 243 |\u001b[39m                 \u001b[33m.\u001b[39mexpect(\u001b[35m200\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 244 |\u001b[39m\n     \u001b[90m 245 |\u001b[39m             \u001b[90m// Try to use the token after logout\u001b[39m\n     \u001b[90m 246 |\u001b[39m             \u001b[36mawait\u001b[39m request(app)\u001b[0m\n\n      at Object.expect (tests/security.test.js:243:18)\n      ----\n      at Test._assertStatus (node_modules/supertest/lib/test.js:252:14)\n      at node_modules/supertest/lib/test.js:308:13\n      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)\n      at Test.assert (node_modules/supertest/lib/test.js:164:23)\n      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)\n\n  ● Security Middleware › Session Security › should handle token manipulation attempts\n\n    TypeError: Cannot read properties of undefined (reading 'slice')\n\n    \u001b[0m \u001b[90m 251 |\u001b[39m\n     \u001b[90m 252 |\u001b[39m         test(\u001b[32m'should handle token manipulation attempts'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 253 |\u001b[39m             \u001b[36mconst\u001b[39m manipulatedToken \u001b[33m=\u001b[39m authToken\u001b[33m.\u001b[39mslice(\u001b[35m0\u001b[39m\u001b[33m,\u001b[39m \u001b[33m-\u001b[39m\u001b[35m10\u001b[39m) \u001b[33m+\u001b[39m \u001b[32m'manipulated'\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                                \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 254 |\u001b[39m\n     \u001b[90m 255 |\u001b[39m             \u001b[36mawait\u001b[39m request(app)\n     \u001b[90m 256 |\u001b[39m                 \u001b[33m.\u001b[39m\u001b[36mget\u001b[39m(\u001b[32m'/auth/verify'\u001b[39m)\u001b[0m\n\n      at Object.slice (tests/security.test.js:253:48)\n\n  ● Security Middleware › Session Security › should reject expired tokens\n\n    expected 403 \"Forbidden\", got 429 \"Too Many Requests\"\n\n    \u001b[0m \u001b[90m 267 |\u001b[39m                 \u001b[33m.\u001b[39m\u001b[36mget\u001b[39m(\u001b[32m'/auth/verify'\u001b[39m)\n     \u001b[90m 268 |\u001b[39m                 \u001b[33m.\u001b[39m\u001b[36mset\u001b[39m(\u001b[32m'Authorization'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m`Bearer ${expiredToken}`\u001b[39m)\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 269 |\u001b[39m                 \u001b[33m.\u001b[39mexpect(\u001b[35m403\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 270 |\u001b[39m         })\u001b[33m;\u001b[39m\n     \u001b[90m 271 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 272 |\u001b[39m })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.expect (tests/security.test.js:269:18)\n      ----\n      at Test._assertStatus (node_modules/supertest/lib/test.js:252:14)\n      at node_modules/supertest/lib/test.js:308:13\n      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)\n      at Test.assert (node_modules/supertest/lib/test.js:164:23)\n      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)\n\n  ● Network Security › should validate request origins\n\n    expected 200 \"OK\", got 429 \"Too Many Requests\"\n\n    \u001b[0m \u001b[90m 396 |\u001b[39m             \u001b[33m.\u001b[39m\u001b[36mget\u001b[39m(\u001b[32m'/health'\u001b[39m)\n     \u001b[90m 397 |\u001b[39m             \u001b[33m.\u001b[39m\u001b[36mset\u001b[39m(\u001b[32m'X-Forwarded-Proto'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'http'\u001b[39m) \u001b[90m// Should be rejected in production\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 398 |\u001b[39m             \u001b[33m.\u001b[39mexpect(\u001b[35m200\u001b[39m)\u001b[33m;\u001b[39m \u001b[90m// Adjust based on your security policy\u001b[39m\n     \u001b[90m     |\u001b[39m              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 399 |\u001b[39m\n     \u001b[90m 400 |\u001b[39m         \u001b[90m// This test depends on your specific security implementation\u001b[39m\n     \u001b[90m 401 |\u001b[39m         expect(response\u001b[33m.\u001b[39mstatus)\u001b[33m.\u001b[39mtoBeDefined()\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.expect (tests/security.test.js:398:14)\n      ----\n      at Test._assertStatus (node_modules/supertest/lib/test.js:252:14)\n      at node_modules/supertest/lib/test.js:308:13\n      at Test._assertFunction (node_modules/supertest/lib/test.js:285:13)\n      at Test.assert (node_modules/supertest/lib/test.js:164:23)\n      at Server.localAssert (node_modules/supertest/lib/test.js:120:14)\n\n  ● File Upload Security › should validate file types\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: true\n    Received: false\n\n    \u001b[0m \u001b[90m 410 |\u001b[39m         allowedTypes\u001b[33m.\u001b[39mforEach(type \u001b[33m=>\u001b[39m {\n     \u001b[90m 411 |\u001b[39m             \u001b[90m// Your validation should allow these\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 412 |\u001b[39m             expect([\u001b[32m'image/jpeg'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'image/jpg'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'image/png'\u001b[39m]\u001b[33m.\u001b[39mincludes(type\u001b[33m.\u001b[39mreplace(\u001b[32m'image/jpg'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'image/jpeg'\u001b[39m)))\u001b[33m.\u001b[39mtoBe(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                                                                                                \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 413 |\u001b[39m         })\u001b[33m;\u001b[39m\n     \u001b[90m 414 |\u001b[39m\n     \u001b[90m 415 |\u001b[39m         maliciousTypes\u001b[33m.\u001b[39mforEach(type \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at toBe (tests/security.test.js:412:112)\n          at Array.forEach (<anonymous>)\n      at Object.forEach (tests/security.test.js:410:22)\n\n  ● Penetration Testing Preparation › should handle common attack vectors\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: true\n    Received: false\n\n    \u001b[0m \u001b[90m 506 |\u001b[39m\n     \u001b[90m 507 |\u001b[39m             \u001b[90m// Should not crash or expose sensitive information\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 508 |\u001b[39m             expect([\u001b[35m400\u001b[39m\u001b[33m,\u001b[39m \u001b[35m401\u001b[39m]\u001b[33m.\u001b[39mincludes(response\u001b[33m.\u001b[39mstatus))\u001b[33m.\u001b[39mtoBe(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                                          \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 509 |\u001b[39m             expect(response\u001b[33m.\u001b[39mbody)\u001b[33m.\u001b[39mnot\u001b[33m.\u001b[39mtoMatch(\u001b[35m/error|exception|stack/i\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 510 |\u001b[39m         }\n     \u001b[90m 511 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.toBe (tests/security.test.js:508:58)\n","testResults":[{"ancestorTitles":["Security Middleware","Security Headers"],"duration":131,"failureMessages":["Error: expect(received).toHaveProperty(path, value)\n\nExpected path: \"x-frame-options\"\n\nExpected value: \"DENY\"\nReceived value: \"SAMEORIGIN\"\n    at Object.toHaveProperty (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\tests\\security.test.js:31:38)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)"],"fullName":"Security Middleware Security Headers should include all required security headers","status":"failed","title":"should include all required security headers"},{"ancestorTitles":["Security Middleware","Security Headers"],"duration":18,"failureMessages":[],"fullName":"Security Middleware Security Headers should set proper HSTS header","status":"passed","title":"should set proper HSTS header"},{"ancestorTitles":["Security Middleware","Content Type Validation"],"duration":68,"failureMessages":["Error: expected 401 \"Unauthorized\", got 400 \"Bad Request\"\n    at Object.expect (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\tests\\security.test.js:59:18)\n    at Promise.then.completed (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-runner\\build\\testWorker.js:106:12)\n----\n    at Test._assertStatus (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\supertest\\lib\\test.js:252:14)\n    at C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\supertest\\lib\\test.js:308:13\n    at Test._assertFunction (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\supertest\\lib\\test.js:285:13)\n    at Test.assert (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\supertest\\lib\\test.js:164:23)\n    at Server.localAssert (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\supertest\\lib\\test.js:120:14)\n    at Object.onceWrapper (node:events:632:28)\n    at Server.emit (node:events:518:28)\n    at Server.emit (node:domain:489:12)\n    at emitCloseNT (node:net:2416:8)\n    at processTicksAndRejections (node:internal/process/task_queues:89:21)"],"fullName":"Security Middleware Content Type Validation should accept valid JSON content type","status":"failed","title":"should accept valid JSON content type"},{"ancestorTitles":["Security Middleware","Content Type Validation"],"duration":105,"failureMessages":[],"fullName":"Security Middleware Content Type Validation should reject invalid content type","status":"passed","title":"should reject invalid content type"},{"ancestorTitles":["Security Middleware","Content Type Validation"],"duration":38,"failureMessages":[],"fullName":"Security Middleware Content Type Validation should reject missing content type for POST","status":"passed","title":"should reject missing content type for POST"},{"ancestorTitles":["Security Middleware","Request Size Validation"],"duration":30003,"failureMessages":["Error: thrown: \"Exceeded timeout of 30000 ms for a test.\nAdd a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout.\"\n    at test (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\tests\\security.test.js:79:9)\n    at _dispatchDescribe (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\index.js:91:26)\n    at describe (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\index.js:55:5)\n    at describe (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\tests\\security.test.js:78:5)\n    at _dispatchDescribe (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\index.js:91:26)\n    at describe (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\index.js:55:5)\n    at Object.describe (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\tests\\security.test.js:9:1)\n    at Runtime._execModule (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-runtime\\build\\index.js:1439:24)\n    at Runtime._loadModule (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-runtime\\build\\index.js:1022:12)\n    at Runtime.requireModule (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-runtime\\build\\index.js:882:12)\n    at jestAdapter (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:77:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at runTestInternal (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-runner\\build\\testWorker.js:106:12)"],"fullName":"Security Middleware Request Size Validation should reject oversized requests","status":"failed","title":"should reject oversized requests"},{"ancestorTitles":["Security Middleware","Input Sanitization"],"duration":50,"failureMessages":["Error: expected 401 \"Unauthorized\", got 400 \"Bad Request\"\n    at Object.expect (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\tests\\security.test.js:103:18)\n    at Promise.then.completed (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at _runTest (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-runner\\build\\testWorker.js:106:12)\n----\n    at Test._assertStatus (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\supertest\\lib\\test.js:252:14)\n    at C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\supertest\\lib\\test.js:308:13\n    at Test._assertFunction (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\supertest\\lib\\test.js:285:13)\n    at Test.assert (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\supertest\\lib\\test.js:164:23)\n    at Server.localAssert (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\supertest\\lib\\test.js:120:14)\n    at Object.onceWrapper (node:events:632:28)\n    at Server.emit (node:events:518:28)\n    at Server.emit (node:domain:489:12)\n    at emitCloseNT (node:net:2416:8)\n    at processTicksAndRejections (node:internal/process/task_queues:89:21)"],"fullName":"Security Middleware Input Sanitization should sanitize XSS attempts","status":"failed","title":"should sanitize XSS attempts"},{"ancestorTitles":["Security Middleware","Input Sanitization"],"duration":23,"failureMessages":[],"fullName":"Security Middleware Input Sanitization should detect SQL injection patterns","status":"passed","title":"should detect SQL injection patterns"},{"ancestorTitles":["Security Middleware","Input Sanitization"],"duration":42,"failureMessages":[],"fullName":"Security Middleware Input Sanitization should detect path traversal attempts","status":"passed","title":"should detect path traversal attempts"},{"ancestorTitles":["Security Middleware","Rate Limiting"],"duration":1326,"failureMessages":[],"fullName":"Security Middleware Rate Limiting should enforce general rate limits","status":"passed","title":"should enforce general rate limits"},{"ancestorTitles":["Security Middleware","Rate Limiting"],"duration":98,"failureMessages":[],"fullName":"Security Middleware Rate Limiting should enforce stricter auth rate limits","status":"passed","title":"should enforce stricter auth rate limits"},{"ancestorTitles":["Security Middleware","CORS Protection"],"duration":17,"failureMessages":[],"fullName":"Security Middleware CORS Protection should handle preflight requests correctly","status":"passed","title":"should handle preflight requests correctly"},{"ancestorTitles":["Security Middleware","CORS Protection"],"duration":9,"failureMessages":[],"fullName":"Security Middleware CORS Protection should reject requests from unauthorized origins","status":"passed","title":"should reject requests from unauthorized origins"},{"ancestorTitles":["Security Middleware","Error Information Disclosure"],"duration":9,"failureMessages":["Error: expected 404 \"Not Found\", got 429 \"Too Many Requests\"\n    at Object.expect (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\tests\\security.test.js:198:18)\n    at Promise.then.completed (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-runner\\build\\testWorker.js:106:12)\n----\n    at Test._assertStatus (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\supertest\\lib\\test.js:252:14)\n    at C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\supertest\\lib\\test.js:308:13\n    at Test._assertFunction (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\supertest\\lib\\test.js:285:13)\n    at Test.assert (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\supertest\\lib\\test.js:164:23)\n    at Server.localAssert (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\supertest\\lib\\test.js:120:14)\n    at Object.onceWrapper (node:events:632:28)\n    at Server.emit (node:events:518:28)\n    at Server.emit (node:domain:489:12)\n    at emitCloseNT (node:net:2416:8)\n    at processTicksAndRejections (node:internal/process/task_queues:89:21)"],"fullName":"Security Middleware Error Information Disclosure should not expose internal errors in production","status":"failed","title":"should not expose internal errors in production"},{"ancestorTitles":["Security Middleware","Error Information Disclosure"],"duration":10,"failureMessages":["Error: expected 401 \"Unauthorized\", got 429 \"Too Many Requests\"\n    at Object.expect (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\tests\\security.test.js:214:18)\n    at Promise.then.completed (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-runner\\build\\testWorker.js:106:12)\n----\n    at Test._assertStatus (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\supertest\\lib\\test.js:252:14)\n    at C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\supertest\\lib\\test.js:308:13\n    at Test._assertFunction (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\supertest\\lib\\test.js:285:13)\n    at Test.assert (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\supertest\\lib\\test.js:164:23)\n    at Server.localAssert (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\supertest\\lib\\test.js:120:14)\n    at Object.onceWrapper (node:events:632:28)\n    at Server.emit (node:events:518:28)\n    at Server.emit (node:domain:489:12)\n    at emitCloseNT (node:net:2416:8)\n    at processTicksAndRejections (node:internal/process/task_queues:89:21)"],"fullName":"Security Middleware Error Information Disclosure should provide generic error messages","status":"failed","title":"should provide generic error messages"},{"ancestorTitles":["Security Middleware","Session Security"],"duration":14,"failureMessages":["Error: expected 200 \"OK\", got 429 \"Too Many Requests\"\n    at Object.expect (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\tests\\security.test.js:243:18)\n    at Promise.then.completed (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-runner\\build\\testWorker.js:106:12)\n----\n    at Test._assertStatus (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\supertest\\lib\\test.js:252:14)\n    at C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\supertest\\lib\\test.js:308:13\n    at Test._assertFunction (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\supertest\\lib\\test.js:285:13)\n    at Test.assert (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\supertest\\lib\\test.js:164:23)\n    at Server.localAssert (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\supertest\\lib\\test.js:120:14)\n    at Object.onceWrapper (node:events:632:28)\n    at Server.emit (node:events:518:28)\n    at Server.emit (node:domain:489:12)\n    at emitCloseNT (node:net:2416:8)\n    at processTicksAndRejections (node:internal/process/task_queues:89:21)"],"fullName":"Security Middleware Session Security should invalidate sessions on logout","status":"failed","title":"should invalidate sessions on logout"},{"ancestorTitles":["Security Middleware","Session Security"],"duration":6,"failureMessages":["TypeError: Cannot read properties of undefined (reading 'slice')\n    at Object.slice (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\tests\\security.test.js:253:48)\n    at Promise.then.completed (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-runner\\build\\testWorker.js:106:12)"],"fullName":"Security Middleware Session Security should handle token manipulation attempts","status":"failed","title":"should handle token manipulation attempts"},{"ancestorTitles":["Security Middleware","Session Security"],"duration":12,"failureMessages":["Error: expected 403 \"Forbidden\", got 429 \"Too Many Requests\"\n    at Object.expect (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\tests\\security.test.js:269:18)\n    at Promise.then.completed (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-runner\\build\\testWorker.js:106:12)\n----\n    at Test._assertStatus (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\supertest\\lib\\test.js:252:14)\n    at C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\supertest\\lib\\test.js:308:13\n    at Test._assertFunction (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\supertest\\lib\\test.js:285:13)\n    at Test.assert (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\supertest\\lib\\test.js:164:23)\n    at Server.localAssert (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\supertest\\lib\\test.js:120:14)\n    at Object.onceWrapper (node:events:632:28)\n    at Server.emit (node:events:518:28)\n    at Server.emit (node:domain:489:12)\n    at emitCloseNT (node:net:2416:8)\n    at processTicksAndRejections (node:internal/process/task_queues:89:21)"],"fullName":"Security Middleware Session Security should reject expired tokens","status":"failed","title":"should reject expired tokens"},{"ancestorTitles":["Audit Logging Security"],"duration":1,"failureMessages":[],"fullName":"Audit Logging Security should hash sensitive data in audit logs","status":"passed","title":"should hash sensitive data in audit logs"},{"ancestorTitles":["Audit Logging Security"],"duration":0,"failureMessages":[],"fullName":"Audit Logging Security should sanitize audit entries","status":"passed","title":"should sanitize audit entries"},{"ancestorTitles":["Audit Logging Security"],"duration":2,"failureMessages":[],"fullName":"Audit Logging Security should generate unique event IDs","status":"passed","title":"should generate unique event IDs"},{"ancestorTitles":["Encryption Security"],"duration":1,"failureMessages":[],"fullName":"Encryption Security should use secure random number generation","status":"passed","title":"should use secure random number generation"},{"ancestorTitles":["Encryption Security"],"duration":194,"failureMessages":[],"fullName":"Encryption Security should use proper key derivation","status":"passed","title":"should use proper key derivation"},{"ancestorTitles":["Encryption Security"],"duration":1,"failureMessages":[],"fullName":"Encryption Security should use proper encryption parameters","status":"passed","title":"should use proper encryption parameters"},{"ancestorTitles":["Encryption Security"],"duration":1,"failureMessages":[],"fullName":"Encryption Security should wipe sensitive data from memory","status":"passed","title":"should wipe sensitive data from memory"},{"ancestorTitles":["Environment Security"],"duration":1,"failureMessages":[],"fullName":"Environment Security should not expose sensitive environment variables","status":"passed","title":"should not expose sensitive environment variables"},{"ancestorTitles":["Environment Security"],"duration":0,"failureMessages":[],"fullName":"Environment Security should use secure defaults","status":"passed","title":"should use secure defaults"},{"ancestorTitles":["Network Security"],"duration":0,"failureMessages":[],"fullName":"Network Security should enforce HTTPS in production","status":"passed","title":"should enforce HTTPS in production"},{"ancestorTitles":["Network Security"],"duration":9,"failureMessages":["Error: expected 200 \"OK\", got 429 \"Too Many Requests\"\n    at Object.expect (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\tests\\security.test.js:398:14)\n    at Promise.then.completed (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-runner\\build\\testWorker.js:106:12)\n----\n    at Test._assertStatus (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\supertest\\lib\\test.js:252:14)\n    at C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\supertest\\lib\\test.js:308:13\n    at Test._assertFunction (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\supertest\\lib\\test.js:285:13)\n    at Test.assert (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\supertest\\lib\\test.js:164:23)\n    at Server.localAssert (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\supertest\\lib\\test.js:120:14)\n    at Object.onceWrapper (node:events:632:28)\n    at Server.emit (node:events:518:28)\n    at Server.emit (node:domain:489:12)\n    at emitCloseNT (node:net:2416:8)\n    at processTicksAndRejections (node:internal/process/task_queues:89:21)"],"fullName":"Network Security should validate request origins","status":"failed","title":"should validate request origins"},{"ancestorTitles":["File Upload Security"],"duration":2,"failureMessages":["Error: expect(received).toBe(expected) // Object.is equality\n\nExpected: true\nReceived: false\n    at toBe (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\tests\\security.test.js:412:112)\n    at Array.forEach (<anonymous>)\n    at Object.forEach (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\tests\\security.test.js:410:22)\n    at Promise.then.completed (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-runner\\build\\testWorker.js:106:12)"],"fullName":"File Upload Security should validate file types","status":"failed","title":"should validate file types"},{"ancestorTitles":["File Upload Security"],"duration":1,"failureMessages":[],"fullName":"File Upload Security should validate file size limits","status":"passed","title":"should validate file size limits"},{"ancestorTitles":["Data Sanitization"],"duration":2,"failureMessages":[],"fullName":"Data Sanitization should remove script tags from input","status":"passed","title":"should remove script tags from input"},{"ancestorTitles":["Data Sanitization"],"duration":1,"failureMessages":[],"fullName":"Data Sanitization should handle various XSS vectors","status":"passed","title":"should handle various XSS vectors"},{"ancestorTitles":["Compliance Verification"],"duration":3,"failureMessages":[],"fullName":"Compliance Verification should maintain audit trail completeness","status":"passed","title":"should maintain audit trail completeness"},{"ancestorTitles":["Compliance Verification"],"duration":0,"failureMessages":[],"fullName":"Compliance Verification should implement proper data retention","status":"passed","title":"should implement proper data retention"},{"ancestorTitles":["Penetration Testing Preparation"],"duration":10,"failureMessages":["Error: expect(received).toBe(expected) // Object.is equality\n\nExpected: true\nReceived: false\n    at Object.toBe (C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\tests\\security.test.js:508:58)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)"],"fullName":"Penetration Testing Preparation should handle common attack vectors","status":"failed","title":"should handle common attack vectors"}]}],"config":{"bail":0,"changedFilesWithAncestor":false,"ci":false,"collectCoverage":true,"collectCoverageFrom":["app.js","routes/**/*.js","middleware/**/*.js","utils/**/*.js","!**/node_modules/**","!**/tests/**","!**/coverage/**"],"coverageDirectory":"C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\coverage","coverageProvider":"babel","coverageReporters":["text","lcov","html","json-summary"],"coverageThreshold":{"global":{"branches":70,"functions":70,"lines":70,"statements":70}},"detectLeaks":false,"detectOpenHandles":false,"errorOnDeprecated":true,"expand":false,"findRelatedTests":false,"forceExit":false,"json":false,"lastCommit":false,"listTests":false,"logHeapUsage":false,"maxConcurrency":5,"maxWorkers":11,"noStackTrace":false,"nonFlagArgs":[],"notify":false,"notifyMode":"failure-change","onlyChanged":false,"onlyFailures":false,"openHandlesTimeout":1000,"passWithNoTests":false,"projects":[],"reporters":[["default",{}],["C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-junit\\index.js",{"outputDirectory":"./test-results","outputName":"junit.xml"}],["C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\jest-html-reporters\\index.js",{"publicPath":"./test-results","filename":"test-report.html","expand":true,"hideIcon":false}]],"rootDir":"C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server","runTestsByPath":false,"seed":-1618061478,"skipFilter":false,"snapshotFormat":{"escapeString":false,"printBasicPrototype":false},"testFailureExitCode":1,"testPathPattern":"","testSequencer":"C:\\Users\\dbota\\Documents\\color correction files 7-21\\photo-collector\\hipaa-compliant-version\\server\\node_modules\\@jest\\test-sequencer\\build\\index.js","testTimeout":30000,"updateSnapshot":"new","useStderr":false,"verbose":true,"watch":false,"watchAll":false,"watchman":true,"workerThreads":false,"coverageLinkPath":"..\\coverage\\lcov-report\\index.html"},"endTime":1758745803147,"_reporterOptions":{"publicPath":"./test-results","filename":"test-report.html","expand":true,"pageTitle":"","hideIcon":false,"testCommand":"","openReport":false,"failureMessageOnly":0,"enableMergeData":false,"dataMergeLevel":1,"inlineSource":false,"urlForTestFiles":"","darkTheme":false,"includeConsoleLog":false,"stripSkippedTest":false},"logInfoMapping":{},"attachInfos":{}})